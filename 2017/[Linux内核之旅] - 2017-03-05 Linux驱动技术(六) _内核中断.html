<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		Linux驱动技术(六) _内核中断
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px solid #e7e7eb;font-weight:400;} .rich_media_meta_list{font-size:14px;margin-bottom: 22px;}
		.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:14px;}.rich_media_meta_text{color:#8c8c8c;color:rgba(0, 0, 0, 0.3)}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content{text-align:justify;} .rich_media_content * {max-width:100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display: none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:677px;margin-left:auto;margin-right:auto;}}a.fwjm{font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px;} body{line-height: 1.6;letter-spacing: .034em;}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;} img{max-width: 677px!important;}

		.crawler-info{padding: 8px 0;} .article-link>img{margin-left: 20px;width: 16px;}
		.comment-item::before,.comment-item::after{content:'';display:block;height:0;visibility:hidden;clear:both;*zoom:1;} .comment-item{margin-bottom:30px;}
		.avatar{width:12%; padding-right:10px;float:left;box-sizing:border-box;} .avatar img{width:100%;}
		.comment-body{float:left;width:88%;} .comment-body .comment-info{color:#b3b3b3;margin-bottom:4px;margin-top: -5px;} .comment-body .comment-info>span:last-child{float:right;} 
		.comment-author{border-left:4px solid green;padding-left:6px;margin:8px 0;}

		@media screen and (max-width: 420px) {.article-link>img {margin-left: 0px;}}
		@media screen and (min-width: 480px) {.avatar {width: 9%;}.comment-body {width: 91%;}}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div class="crawler-info">
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
			<a href='https://mp.weixin.qq.com/s?__biz=MzI3NzA5MzUxNA==&amp;mid=2664603802&amp;idx=2&amp;sn=92e5cb221f36412f9656b5cc4880b1df&amp;chksm=f04d8d7fc73a04697133d72d94604cc98c6d5e08c4418f1ab1fc432973dfbfe4ac327c76ed38&amp;scene=27#wechat_redirect&cpage=46' target='_blank' class="article-link">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAMAAABA3o1rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4QUEzQzVDNkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4QUEzQzVENkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OThBQTNDNUE2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OThBQTNDNUI2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5TKSKsAAAAclBMVEUuLi77+/stLS1VVVXx8fFOTk7s7Ozt7e1qamp5eXlNTU2WlpZFRUU6Ojrq6urn5+d/f3/8/Pw9PT0/Pz+YmJg8PDyZmZlAQECfn5+QkJBBQUFra2vo6OhDQ0OSkpKenp5WVlY+Pj7r6+tpaWksLCz///9o6ILHAAAAJnRSTlP/////////////////////////////////////////////////AKd6gbwAAACNSURBVHjajJHpEoIwDISDVMotcnuCmLz/K9KCdlqO6v7p7Mw3yW4KxG85fnUkIVfZ5J0SsCtqcgRw0HzjQYY2AAOIdRuaK4ReAPJ5nmglL5qICahpU60C0uXguQ9TgIwGJoDnT9z/ABmxt60ot0N2CsDLfb9mvBxs9ql+n5o9bEDBgbif7/1F4g80CjAAqrVAnnsm5f8AAAAASUVORK5CYII=" />
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">Linux驱动技术(六) _内核中断</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">Linux内核之旅</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">Linux内核之旅</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">LinuxKernelTravel</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">Linux内核之旅</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2017-03-05</em>





                </div>

                
                
                                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p><span style="color: rgb(217, 33, 66);"><strong>本文转载自嵌入式Linux中文站</strong></span></p><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">在硬件上，中断源可以通过中断控制器向CPU提交中断，进而引发中断处理程序的执行，不过这种硬件中断体系每一种CPU都不一样，而Linux作为操作系统，需要同时支持这些中断体系，如此一来，Linux中就提出了<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">软中断</strong>的概念，也有人叫<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">内核中断</strong>，其本质就是使用统一的方式对不同硬件中断体系中的中断号进行再映射，在操作系统中操作的中断号都是这些映射过的软中断号。就是下图中的irq_num</span></p><blockquote style="margin-top: 10px; margin-bottom: 10px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; max-width: 100%; box-sizing: border-box; border-width: 2px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-color: rgb(239, 239, 239); white-space: normal; font-size: 13.3333px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; word-wrap: break-word !important; background-image: none; background-attachment: initial; background-color: rgb(255, 255, 255); background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em;"><img data-ratio="0.4875" src="data:image/JPG;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAE4AoADASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAYHAwQFAgH/xABSEAABAwICBQUKCQkGBgIDAAABAAIDBBEFEgYWITGTE0FRU9EVIjJUYXGBkZLSFDVSVXOUobHhIzM0NkJldMHCBxdicoOyJCWis/DxgsNjZNP/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAQIEAwUG/8QAMxEBAAECBQIDBwQCAwEBAAAAAAECAwQREhRRE2EhMVIyM0FxobHBNGLh8CJCcoGR0fH/2gAMAwEAAhEDEQA/ALmREQEREBERAREQEREBERARF8cbNJ6Ag+oq5OmWMgn8tHwwmueNddHwwtuyu9mbdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MJrnjXXR8MJsrvY3VCxkVc654110fDCa54110fDCbK72N1QsZFXOueNddHwwmueNddHwwmyu9jdULGRVzrnjXXR8MKT6KYtV4tTVD6tzXOjeA3K22yy53MLXbp1StRfprnKHfREWZ3EREBERAREQEREBERAREQF5f4DvMvS8v8B3mQU87wj518X13hHzr4vpXiiIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIuPJO7uPJUmpe2p5OQlofazgDcW5rfyVaqskxGbsIua11RDiMYke5kEhcGNe+58Ebz6CtWGqqHwue6Z3eSRhu3e102/zZbAelV6mSdDuIudJWzjE3U0QZY/tOubd7fddYmYy6SBryIo3SPjDQ47g6MOv6Ln1J1KTRLrIuY+ulnwWrqQOSkYx2Vo8JpDef7/ADELGMQqGEsDQ6ch75GvcAGFtrNFyLCxBv6bJ1INEuui5sddVyysaBC3lJZGC4Jyht/LtOxazsXqaiglljiEY5L5QBbeLPcbek7rJNyk0S7aLVopHmWoic4uDHAtJ5rtBt67+tbSvE5wrMZCIikEREBERAREQEREBERAREQEREBERAREQEREBERAU40B/Qqv6QfcoOpxoD+hVf0g+5ZMZ7mXfD+8hLERF4r0xERAREQEREBERAREQEREBeX+A7zL0vLvBPmQVThOG92MbioHVEkDHse8vjAJ2W2bQelSf+7uD54rPYj91cbR9smGaSwVVbBPDCI5Gl7oXWBNrcym+sWF+Mu4L+xbsTdri5MUz4Mti3TNHjCOz6A0sEYe7F62xc1vgxDaSAN48qwHQ/BhHyh0neGXIzZ4bbN+23lC7uKYphmIUjIG1hYWzwy3MLzsZI19t3Plso5iEFNBo3U01HUxzzOwp9GWOp37Xd8bt2byTtB8hvsWfr3fVLt0rfDdm0CoaePlJsdqYmXtmeIgPWWryNBsOczO3SCctsHXHJWsTYHwdxI2LdxDHsKr5KOnmkfAYqlkzeVivnyH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hXVNdU1VeciIilUREQEREBERAREQEREBEWOeR0UD3sjMjwO9YP2jzBExGc5IjpnguK4/WQUlDVu+CsLfhMNw1rbnff8AaNttua3lUuhhZTwRwxNDY42hrQOYAWCQtkbCwSvD5A0Z3AWBPOsipTREVTVy03sTXct0WfDKnPL/AL+MiIiuyiIiAiIghuluBQQ4biWKyyvnqJCwR590Tc42BdjBcCgw6c1tLK9kdRC3PTjwM2zvv/OlY9Nv1Uq/Oz/e1dej/QYPo2/cucRGp59Fi3GKnKPKIn/vOWdERdHoCIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAsFIyZsbnTuJkkeXEXuGjmA8wt6brzWxfCYhTh7W53AuBO1zARmA8+70rZUfFfyp+YiIpUEREBERAREQERfEGGdksk8AY7LE1xfIQbE23N81zf0eVZ1r0sWUzTl7ZDO/OHN2jLYBoHoF/OSthRC9XHAiIpUEREBERAREQEREBERAREQFgcyV9ax2bLDGwmwPhOPT5APv8iyuc1jS97g1rRckmwAWKjgdTwkPcHSPe573DnJN/s3ehRK9PhEyzoiKVBERAREQEREHB02/VSr87P97V16P9Bg+jb9y5Gm36qVfnZ/vauvR/oMH0bfuVf9mWn9TV/wAY+8s6Iis1CIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIvm5BrtjZJXvnEgcYmcllH7BNnH1jL6lsrXomximEkTy9sxMocRYnMbj7CB6FsKIXr88uBERSoIiICIiAiIgLBWAPpnxGXkjKDG13OCdmzyrOteVsUtXCxzznivKGjduLbn1lRK1HnmzMY2NjWMADWiwA5gvSIpVEREEa0m0jrMGrIoaaOFzXx5iZGkm9yOYhcXXvFeopPYd7yyae/GlN9B/UVFl7FizbqtxMw867driuYiUl17xXqKT2He8mveK9RSew73lGkXbb2vS5da5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykFTpriVTDyD4qUNeRcBju+ANyPC3G1ll17xXqKT2He8ox3plvfa0Wt5//S9KsYe1nM6YdKr1yIiM5/v8ZJLr3ivUUnsO95Ne8V6ik9h3vKNIrbe16XPrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5y7WK6U1+L4dJRTx07Y5LXLGuB2EHnPkWzFpvicUTI2w0pDGhoux3N/8AJRxFG2s556VddWrVn4pLr3ivUUnsO95Ne8V6ik9h3vKNIp29r0rda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8mveK9RSew73lGkTb2vSda5ykuveK9RSew73k17xXqKT2He8o0ibe16TrXOUl17xXqKT2He8pJozjNTjNJNLUsia6OTKOTBAtbykqtlOtAvi6q+mH3BZsVZt02pmmHexcrqrymUqREXlN4iIgIiICIiAiIgIiICIiAiIgLBWOjbSvErnNa+0d27++OUW9JWda9UYi6CKVrjykoy2+U0F4J9lRPktR7UMzGtYxrGizWiwHQF6RFKoiIgIiICIiAiIgLXh5J9XUSszco3LE++7YMwt7a2Fr0RifBysLSGyvc/bvJvvUfFePZmWwiIpUEREEE09+NKb6D+oqLKU6e/GlN9B/UVEqiQxU8kjQCWMLhfyBe7h5ysxLyr3vJZEUoH9n1eQD3Xptv/6jvfX3+72v+eKb6o731TeWuVtvc4RZFJpNAq2INLsXg75waLUbjtP/AM181EqrA93aOx3f8Mf/AOiby1ybe5wjSLv12h0uGsjfVY3TsbI4sbaiebkNc7mf0NPqXik0SlrXsjixqFr5IuVY2She0vZs74Xft3i/RcX3pvLXJt7nDhopT/d7X/PFN9Ud76f3e1/zxTfVHe+m8tcm3ucIsi2sVwyfBsVfQTzxzkRMlD2R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/EpIiIrNQiIgLXqZGsmpWOjD+Vlygn9mzHOv9lvStha88uSppo8jXco520722ado+70qJXo8/wD37NhERSoIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAo3p18QN/iGfzUkUb06+IG/xDP5qtfsyy4z9PX8kjHghfV8HghfVZqEREBERAREQEREBERAREQEREBERAREQEREBERBwTpngwJBll2f8A4ysMOmuEl02dz2gSWbaM7RYbT5VAX+G7zrGxxdmvzOsvWnBWs482GnE16Z8IWRrng3Wy8Mprng3Wy8MquUVtla7qbqtY2ueDdbLwymueDdbLwyq5RNla7m6rWNrng3Wy8Mprng3Wy8MquUTZWu5uq1ja54N1svDKa54N1svDKrlE2VrubqtY2ueDdbLwymueDdbLwyq5RNla7m6rWBNprhIdCGPeQZLOvGdgsdo+xZtc8G62XhlVu9xBZbndY+pelWMFaznzXqxNemPCFja54N1svDKa54N1svDKrlFbZWu6m6rWNrng3Wy8Mprng3Wy8MquUTZWu5uq1ja54N1svDKa54N1svDKrlE2VrubqtY2ueDdbLwymueDdbLwyqsZWuf+ULomRmV0bWvNibOy7+m/MvFDXVFfCJI2RtysYXB19ri0OIHQLEbdqptbPdbcXOy1tc8G62XhlcWg0iw+DSfEq6R8ggqGMEZyG5sBdQKTFslDLO2Iue2J0zWgbm7cpPnsssuK08MTpXh/JtLhmDbgloJIHqPqUThLM/GXOuu5XNMz8Jz+n8rS1zwbrZeGU1zwbrZeGVVzcSidKYzHK1wfkN2/tZc1t/RtWN+MU7HG4eMpIc3Lc373oP8AiCttbPK+4u8LV1zwbrZeGU1zwbrZeGVVwrg6ojZkIa57onA72vAzAeYi/wBi21MYO1PlmicTchY2ueDdbLwysL9NcJFRE1r3lhDsxMZuN1rKv15LiJGjmIN1FWCtRHxXoxNcz5R5T9lka54N1svDKa54N1svDKrlFbZWu6m6rWNrng3Wy8Mprng3Wy8MquUTZWu5uq1ja54N1svDKa54N1svDKrlE2VrubqtY2ueDdbLwymueDdbLwyq5RNla7m6rWNrng3Wy8Mprng3Wy8MquUTZWu5uq1ja54N1svDKa54N1svDKrlE2VrubqtY2ueDdbLwymueDdbLwyq5RNl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NqzrHPGZaeSMEgvYWgjmuFE+S1M5VRLIixwCQU8Yl/OZBm23222rIpRMZSKNaD/FVV/GSfcFJVG9B/iqq/jJPuCrPtQyXP1Fv5T+EkREVmoREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQFr1UT5ORdGQDHKHG5tcbQfsJWwteuhM9HJG1wa4i7XO3AjaCfSFE+S9HtQ2EXwG4uF9UqI3p3+rv+uxSJngN8wUd07/V3/XYpEzwG+YKse1LLR+or+VP5ekRFZqEREBERAWvSRPhErHEEGVzm2O4ON9vpJWwteKLk62d+dtpWtOXnuLgn1W9SiV6fKYbCIilRGtF/jnH/wCL/m5SVRrRf45x/wDi/wCblJVWjyZcH7mPnP3kREVmoREQEREBERAREQEREGvRRPgpGQvIJZdoIN9l9n2WWwtemi5GSoGdpD5c4aN7QQN/puVsKI8l6/GqZFG9B/iqq/jJPuCkijeg/wAVVX8ZJ9wUT7UMVz9Rb+U/hJERFZqEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBfHND2lrhcEWIX1EGCiZydFDFyjZTGwML27iRsP2hZ1r0kbIRLEyQPtK5xHycxzW+1bCiPJev2pRvTv9Xf8AXYpEzwG+YKO6d/q7/rsUiZ4DfMFEe1LFR+or+VP5ekRFZqEREBERAWvJG0V8M5ka05HRhp3vJsdnmylbC16tjC2KWSTkxDIHh1vOPuJCiV6PNsIiKVEa0X+Ocf8A4v8Am5SVRrRf45x/+L/m5SVVo8mXB+5j5z95ERFZqEREBERAREQEREBERBrtjazEHyco3NLE0ZOfvSbn/qA9S2FrzsYKmCd0mQsJYNnhZub1gepbCiF6vHKRRvQf4qqv4yT7gpIo3oP8VVX8ZJ9wUT7UMVz9Rb+U/hJERFZqEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREHKx/GTglJHOIBNnkyWLstthPR5FwNf3/NreN+C3NPPiqn+n/pKga9TDWLddvOqGG/drpryiUqbp0WVckow8ZpWNBby2zvb7d3+L7Fm1/f8ANreN+Chr8oc1xvsNh6V6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 " src="dJZuddiardMEg4icniaEH9MCAdibLG9CriaBFFPuAxQAOF2pc5y5QIibI1go1ibLnDxOX6GQS3tOENuNr0UWbyhJsPIjQ"  data-type="png" data-w="640" style="max-width: 900px; box-sizing: border-box; border: 0px; vertical-align: middle; display: block; width: 353px; word-wrap: break-word !important; visibility: visible !important;" width="100%"></p></blockquote><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">Linux内核中定义了名为irq_desc的<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">中断例程描述符表</strong>来描述中断服务例程，<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">每一个irq_desc对象数组中的下标就是软中断号</strong>。其中的<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">struct irqaction</strong>对象描述了这个中断服务例程的中断的具体信息。</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">//include/linux/irqdesc.h
 40 struct irq_desc {<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 41 &nbsp; &nbsp; struct irq_data &nbsp; &nbsp; &nbsp; &nbsp; irq_data;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 42 &nbsp; &nbsp; unsigned int __percpu &nbsp; *kstat_irqs;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 43 &nbsp; &nbsp; irq_flow_handler_t &nbsp; &nbsp; &nbsp;handle_irq;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 44 #ifdef CONFIG_IRQ_PREFLOW_FASTEOI
 45 &nbsp; &nbsp; irq_preflow_handler_t &nbsp; preflow_handler;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 46 #endif
 47 &nbsp; &nbsp; struct irqaction &nbsp; &nbsp;*action; &nbsp; &nbsp; &nbsp; &nbsp;/* IRQ action list */
 48 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp;status_use_accessors;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 49 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp;core_internal_state__do_not_mess_with_it;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 50 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp;depth; &nbsp;&nbsp; &nbsp;/* nested irq disables */
 51 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp;wake_depth; /* nested wake enables */
 52 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;irq_count;/* For detecting broken IRQs */
 53 &nbsp; &nbsp; unsigned long &nbsp;last_unhandled; /* Aging timer for unhandled count */
 54 &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;irqs_unhandled;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;55 &nbsp; &nbsp; raw_spinlock_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lock;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;56 &nbsp; &nbsp; struct cpumask &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*percpu_enabled;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 57 #ifdef CONFIG_SMP
 58 &nbsp; &nbsp; const struct cpumask &nbsp; &nbsp;*affinity_hint;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 59 &nbsp; &nbsp; struct irq_affinity_notify *affinity_notify;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 60 #ifdef CONFIG_GENERIC_PENDING_IRQ
 61 &nbsp; &nbsp; cpumask_var_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pending_mask;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 62 #endif
 63 #endif
 64 &nbsp; &nbsp; unsigned long &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; threads_oneshot;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 65 &nbsp; &nbsp; atomic_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;threads_active;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;66 &nbsp; &nbsp; &nbsp; &nbsp; wait_queue_head_t &nbsp; &nbsp; &nbsp; wait_for_threads;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;67 #ifdef CONFIG_PROC_FS
 68 &nbsp; &nbsp; &nbsp; &nbsp; struct proc_dir_entry &nbsp; *dir;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;69 #endif
 70 &nbsp; &nbsp; &nbsp; &nbsp; int &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parent_irq;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 71 &nbsp; &nbsp; &nbsp; &nbsp; struct module &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *owner;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 72 &nbsp; &nbsp; &nbsp; &nbsp; const char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*name;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />&nbsp;73 } ____cacheline_internodealigned_in_smp;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> 74</span></code></pre><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> <span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">76 <span class="" style="font-size: 16px; max-width: 100%; color: rgb(0, 0, 255);">extern</span> <span class="" style="font-size: 16px; max-width: 100%; color: rgb(0, 0, 255);">struct</span> irq_desc irq_desc[NR_IRQS]; &nbsp;<span class="" style="font-size: 16px; max-width: 100%; color: green;">//NR_IRQS表示中断源的数目</span></span></code></pre><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">//linux/interrupt.h<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />104 //一个irq action的描述结构<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />105 struct irqaction { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
106 &nbsp; &nbsp; &nbsp; &nbsp; irq_handler_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; handler;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />107 &nbsp; &nbsp; &nbsp; &nbsp; void &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*dev_id;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />108 &nbsp; &nbsp; &nbsp; &nbsp; void __percpu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *percpu_dev_id;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />109 &nbsp; &nbsp; &nbsp; &nbsp; struct irqaction &nbsp; &nbsp; &nbsp; &nbsp;*next;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />110 &nbsp; &nbsp; &nbsp; &nbsp; irq_handler_t &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thread_fn;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />111 &nbsp; &nbsp; &nbsp; &nbsp; struct task_struct &nbsp; &nbsp; &nbsp;*thread;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />112 &nbsp; &nbsp; &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;irq;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />113 &nbsp; &nbsp; &nbsp; &nbsp; unsigned int &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;flags;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />114 &nbsp; &nbsp; &nbsp; &nbsp; unsigned long &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thread_flags;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />115 &nbsp; &nbsp; &nbsp; &nbsp; unsigned long &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thread_mask;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />116 &nbsp; &nbsp; &nbsp; &nbsp; const char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*name;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />117 &nbsp; &nbsp; &nbsp; &nbsp; struct proc_dir_entry &nbsp; *dir;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />118 } ____cacheline_internodealigned_in_smp;</span></code></pre><blockquote style="margin-top: 10px; margin-bottom: 10px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; max-width: 100%; box-sizing: border-box; border-width: 2px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-color: rgb(239, 239, 239); white-space: normal; font-size: 13.3333px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; word-wrap: break-word !important; background-image: none; background-attachment: initial; background-color: rgb(255, 255, 255); background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em;"><span style="font-size: 16px;"><strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">struct irqaction</strong><br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--105--&gt;handler: 中断处理函数<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--106--&gt;name: 设备名<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--107--&gt;dev_id: 设备识别id<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--109--&gt;next: 指向下一个irqaction的指针<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--110--&gt;irq: 硬件中断号！！！<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--113--&gt;flags:IRQF_DISABLED .etc<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--110--&gt;thread_fn: 线程中断的中断处理函数<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--111--&gt;thread: 线程中断的线程指针<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--114--&gt;thread_flags:&nbsp;与@thread关联的flags<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--115--&gt;thread_mask:&nbsp;追踪@thread&nbsp;activity的位掩码<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />--116--&gt;dir: 指向proc/irq/NN/name的入口指针</span></p></blockquote><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">raw_local_irq_save(x) //禁止所有中断
raw_local_irq_enable &nbsp; &nbsp;//取消禁止中断</span></code></pre><h2 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; font-size: 21px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(234, 234, 234); word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">写中断处理程序</span></h2><h3 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">1. 编写中断处理函数</span></h3><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">下面这个就是中断处理程序的原型，中断发生后，内核会将软中断号和注册时的data作为参数传入。中断处理程序ISR是在中断发生时被调用的用来处理中断的函数，不是进程上下文，在中断期间运行，<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">不能执行可能休眠的操作，不能同用户空间交换数据，不能调用schedule()函数放弃调度</strong><br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />实现中断处理有一个原则：<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"><span style="font-size: 16px; max-width: 100%; box-sizing: border-box; text-decoration: underline; word-wrap: break-word !important;">尽可能快的处理并返回</span></strong>，冗长的计算处理工作应该交给tasklet或任务队列在安全的时间内进行。此外，硬件系统中常使用共享中断，即多个设备共享一根线。即该(软硬)中断号可以被多个设备共享，这在实际的硬件连接中经常见到，可以节约很多资源，但是如此一来，就给软件的编写的提出了要求，内核给出的方案是一旦接收到来自一条中断线的中断，它就会循环执行所有注册到该中断线(-&gt;硬中断号-&gt;软中断号)的handler，这样，每一个handler就有义务判断到底是不是自己负责的设备来的中断，handler原型的dev_id也正是为了这个目的而存在，我们可以将该handler负责的设备的中断状态寄存器的地址作为dev_id和handler一起注册，当内核遍历执行所有的handler的时候，会将每一个中断的dev_id作为参数依次传入每一个handler，在每一个handler内部首次通过读取这个寄存器来快速判断是否是自己负责的设备发出的。这也就是共享中断必须设置dev_id参数的原因之一。至此，就可以实现多个设备对这一中断线的"shared"。注意，对于这个"shared"，并不是在时间上允许多个中断同时发生，而是一种空间上的、中断号上的"shared",此外，这个"shared"和三星芯片中常见的Shared Peripheral Interrupts(SPI)不是一回事，后者表示这个中断可以被GIC router到任意一个CPU中。</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> <span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">88 typedef irqreturn_t <span class="" style="font-size: 16px; max-width: 100%; color: green;">(*irq_handler_t)(int, void *)</span>; &nbsp; </span></code></pre><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">irqreturn_t xxx_interrupt(int irq, void *dev_id)
{
 &nbsp; &nbsp;...<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> &nbsp; &nbsp;int status = read_irq_status(); /* 读取相应的寄存器获取中断源 */
 &nbsp; &nbsp;if(!is_myirq(dev_id,status)){ &nbsp; /* 判断是否是本设备中断 */
 &nbsp; &nbsp; &nbsp; &nbsp;return IRQ_NONE; &nbsp; &nbsp;
 &nbsp; &nbsp;} &nbsp; &nbsp;/* 中断处理程序 */
 &nbsp; &nbsp;return IRQ_HANDLED
}</span></code></pre><h3 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">2. 注册中断处理函数</span></h3><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">下面这个就是注册中断的API，flags取值在<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">"interrupt.h"</strong>有定义，常用的有<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">IRQF_DISABLED</strong>和<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">IRQF_SHARED</strong>，前者表示中断程序调用时屏蔽所有中断，<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">"所有"指的是屏蔽所有中断线的中断，本中断线的中断本来就是屏蔽的，<span style="font-size: 16px; max-width: 100%; box-sizing: border-box; text-decoration: underline; word-wrap: break-word !important;">内核默认不允许中断嵌套</span></strong>。<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">IRQF_SHARED</strong>表示多个设备共享中断，即该中断线上连接了多个相同或不同的设备。<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />除了中断类型，flags还需要"<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">位或</strong>"上触发方式，eg：<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">IRQF_DISABLED|IRQF_TRIGGER_RISING</strong></span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">/**
 * @flags:中断标志位。
 * @dev_id用于共享中断，用来标识是哪个设备触发了中断，通常传入相应设备的中断状态寄存器的地址
 * @name 是中断名称，可以在/proc/interrupt中看到
 */<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />int requst_irq(unsigned int irq，irq_handler_t handler, unsigned long flags, const char *name,void * dev_id);</span></code></pre><h3 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">3. 释放中断处理函数</span></h3><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">中断号也是一种系统资源，使用完毕后要释放，注意，free_irq的第二个参数应当与request_irq()中最后一个参数相同，这样才能将这个handler从这个中断线中的handler链表中删除。</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">/**
 * free_irq - 释放irq 
 */<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void free_irq(unsigned int irqno,void * dev_id);</span></code></pre><h2 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; font-size: 21px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(234, 234, 234); word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">底半部</span></h2><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">中断不属于进程上下文，所以不能被内核调度，如果进入了中断处理函数，就只能将其执行完毕，不能被打断，这样带来的一个问题是如果在中断处理函数中执行耗时操作，就会极大的影响系统性能，为了解决这个问题，Linux内核中提出了中断<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">顶半部</strong>和`<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">底半部(bottom half)</strong>的概念，对于耗时的中断处理程序，将重要的、必要的操作放在顶半部执行，这部分和传统的中断概念一样，一旦开始就必须执行完毕;将中断处理程序中耗时的，不那么紧要的操作放在底半部，防止整个中断处理程序过多的占用系统资源。<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />Linux内核提供的3种中断底半部机制：<strong style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;">工作队列，tasklet,软中断</strong>。其中软中断机制是内核底层的机制，包括定时器，异步通知等很多机制都是基于软中断，开发者不应该直接操作，所以这里仅讨论前两种</span></p><h3 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">Tasklet</span></h3><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">每个tasklet都和一个函数相关联，当tasklet被运行时，该函数就被调用，并且tasklet可以调度自己。</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">//定义一个处理函数<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void &nbsp;my_tasklet_fcn(unsigned long){}<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />//定义一个tasklet结构my_tasklet，并与处理函数相关联，<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />DECLARE_TASKLET(my_tasklet,my_tasklet_fcn,data);//调度<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />tasklettasklet_schedule(&amp;my_tasklet);</span></code></pre><h3 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">工作队列</span></h3><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">工作队列和tasklet类型，tasklet多运行于中断上下文，而工作队列多运行与进程上下文<br style="max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;"  />此外，tasklet中不能睡眠，而工作队列处理函数允许睡眠(正是由于它被当作内核线程被调度)</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">//定义一个工作队列struct work_queue my_wq;//定义一个处理函数<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void my_wq_fcn(unsigned long){}//初始化工作队列并将其与处理函数绑定<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />INIT_WORK(&amp;my_wq,my_wq_fcn);//调度工作队列执行<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />schedule_work(&amp;my_wq);</span></code></pre><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">static irqreturn_t handler_t(int irq, void *dev){ &nbsp; &nbsp;//top half
 &nbsp; &nbsp;schedule_work(&amp;ws);<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /> &nbsp; &nbsp;return IRQ_HANDLED;
}<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void work_func(struct work_struct *work){ &nbsp; &nbsp;//bottom half
 &nbsp; &nbsp;ssleep(3);
}<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />static int __init demo_init(void){
 &nbsp; &nbsp;...
 &nbsp; &nbsp;INIT_WORK(&amp;ws, work_func);
 &nbsp; &nbsp;request_irq(irq, handler_t, IRQF_TRIGGER_RISING, "demo", NULL);
 &nbsp; &nbsp;...
}</span></code></pre><h2 style="margin-top: 10px; margin-bottom: 10px; font-weight: bold; font-size: 21px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); white-space: normal; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 1.5; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(234, 234, 234); word-wrap: break-word !important; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">其他API</span></h2><p style="margin: 10px auto; max-width: 100%; box-sizing: border-box; word-wrap: break-word; min-height: 1em; white-space: normal; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.3333px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">除了上述API，内核还提供了其他的中断操作API，在内核代码中被广泛使用。</span></p><pre style="margin-top: 10px; margin-bottom: 10px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word; overflow: auto; font-size: 13.3333px; line-height: 20px; color: rgb(51, 51, 51); word-break: break-all; border: none; border-radius: 4px; font-stretch: normal; white-space: pre-wrap; background-color: rgb(39, 40, 34);"><code class="" style="margin: auto; max-width: 100%; box-sizing: border-box; color: rgb(0, 0, 0); vertical-align: middle; display: block; height: auto; overflow-x: auto; word-wrap: break-word !important; background-image: initial; background-attachment: initial; background-color: transparent; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="max-width: 100%; color: rgb(255, 255, 255); font-size: 16px; box-sizing: border-box !important; word-wrap: break-word !important;">raw_local_irq_save(x) &nbsp; //禁止所有中断<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />raw_local_irq_enable &nbsp; &nbsp;//取消禁止中断<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />//下面三个函数用于可编程中断控制器，对所有CPU都有效<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />//屏蔽一个中断<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void disable_irq(int irq); &nbsp;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />//立即返回<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void disable_irq_nosync(); &nbsp;<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />//等待目前中断处理返程//使能一个中断<br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  /><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"  />void enable_irq()</span></code></pre><p><br  /></p>
                </div>
                

                
  <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display: none;"></div>


                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name"></div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p class="reward_button_wrp">
                    
                      <span class="reward_pop_panel">
                        <img src="https://res.wx.qq.com/mpres/zh_CN/htmledition/pages/home/index/pic_mp_app4290ba.png" alt="">
                        <strong>扫一扫下载订阅号助手，用手机发文章</strong>
                      </span>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                            </div>
		<div class="comment">
			<h3 style="margin:26px 0;font-weight:100;padding-bottom:4px;border-bottom:1px solid #ccc;">精选留言</h3>
		    暂无...
		</div>
	</div>
	<div class='dy_all'>
		<a href='https://www.52pojie.cn/' target='_blank'>
			吾爱破解论坛
		</a>
	</div>
</body>