<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		Nginx线程池浅析
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px solid #e7e7eb;font-weight:400;} .rich_media_meta_list{font-size:14px;margin-bottom: 22px;}
		.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:14px;}.rich_media_meta_text{color:#8c8c8c;color:rgba(0, 0, 0, 0.3)}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content{text-align:justify;} .rich_media_content * {max-width:100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display: none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:677px;margin-left:auto;margin-right:auto;}}a.fwjm{font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px;} body{line-height: 1.6;letter-spacing: .034em;}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;} img{max-width: 677px!important;}

		.crawler-info{padding: 8px 0;} .article-link>img{margin-left: 20px;width: 16px;}
		.comment-item::before,.comment-item::after{content:'';display:block;height:0;visibility:hidden;clear:both;*zoom:1;} .comment-item{margin-bottom:30px;}
		.avatar{width:12%; padding-right:10px;float:left;box-sizing:border-box;} .avatar img{width:100%;}
		.comment-body{float:left;width:88%;} .comment-body .comment-info{color:#b3b3b3;margin-bottom:4px;margin-top: -5px;} .comment-body .comment-info>span:last-child{float:right;} 
		.comment-author{border-left:4px solid green;padding-left:6px;margin:8px 0;}

		@media screen and (max-width: 420px) {.article-link>img {margin-left: 0px;}}
		@media screen and (min-width: 480px) {.avatar {width: 9%;}.comment-body {width: 91%;}}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div class="crawler-info">
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
			<a href='https://mp.weixin.qq.com/s?__biz=MzI3NzA5MzUxNA==&amp;mid=2664603616&amp;idx=2&amp;sn=d27fff24b7327e0e4cc8afe0403b1689&amp;chksm=f04db205c73a3b135741aa2033caf1880d2f184cf6194c4c9f28852455c9c03828213282acb7&amp;scene=27#wechat_redirect&cpage=51' target='_blank' class="article-link">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAMAAABA3o1rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4QUEzQzVDNkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4QUEzQzVENkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OThBQTNDNUE2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OThBQTNDNUI2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5TKSKsAAAAclBMVEUuLi77+/stLS1VVVXx8fFOTk7s7Ozt7e1qamp5eXlNTU2WlpZFRUU6Ojrq6urn5+d/f3/8/Pw9PT0/Pz+YmJg8PDyZmZlAQECfn5+QkJBBQUFra2vo6OhDQ0OSkpKenp5WVlY+Pj7r6+tpaWksLCz///9o6ILHAAAAJnRSTlP/////////////////////////////////////////////////AKd6gbwAAACNSURBVHjajJHpEoIwDISDVMotcnuCmLz/K9KCdlqO6v7p7Mw3yW4KxG85fnUkIVfZ5J0SsCtqcgRw0HzjQYY2AAOIdRuaK4ReAPJ5nmglL5qICahpU60C0uXguQ9TgIwGJoDnT9z/ABmxt60ot0N2CsDLfb9mvBxs9ql+n5o9bEDBgbif7/1F4g80CjAAqrVAnnsm5f8AAAAASUVORK5CYII=" />
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">Nginx线程池浅析</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                                            <span class="rich_media_meta rich_media_meta_text">
                                                        Linux内核那些事
                                                    </span>
                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">Linux内核之旅</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">Linux内核之旅</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">LinuxKernelTravel</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">Linux内核之旅</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2017-01-01</em>





                </div>

                
                
                                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <blockquote style="max-width: 100%; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(255, 41, 65); box-sizing: border-box !important; word-wrap: break-word !important;">本文转载自 Linux内核那些事</span></strong></blockquote><blockquote style="max-width: 100%; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><p style="max-width: 100%; min-height: 1em; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(255, 41, 65); box-sizing: border-box !important; word-wrap: break-word !important;">链接：http://mp.weixin.qq.com/s/bQ-G8hcYFmVscLtX_ditvA</span></strong></span></p></blockquote><p><br  /></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通过使用多路复用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">IO</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">（如</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Linux</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">epoll</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">、</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">FreeBSD</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">kqueue</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">等）技术很好的解决了</span></span><span style="max-width: 100%; text-decoration: underline; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; color: rgb(0, 0, 255); box-sizing: border-box !important; word-wrap: break-word !important;">c10k<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">问题</span></span></span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">，但前提是</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的请求不能有阻塞操作，否则将会导致整个</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">进程停止服务。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">但很多时候阻塞操作是不可避免的，例如客户端请求静态文件时，由于磁盘</span>IO<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">可能会导致进程阻塞，所以将会导致</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的性能下降。为了解决这个问题，</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">在</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">1.7.11</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">版本中实现了线程池机制。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">下面我们将会分析</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">是怎么通过线程池来解决阻塞操作问题。</span></span></p><h2 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 黑体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">启用线程池功能</span></span></strong></h2><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">要使用线程池功能，首先需要在配置文件中添加如下配置项：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">location / {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;root /html;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;thread_pool default threads=32 max_queue=65536;</span></strong></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;aio threads=default;</span></strong></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">上面定义了一个名为</span>“<span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">default</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">”，包含</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">32</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">个线程，任务队列最多支持</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">65536</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">个请求的线程池。如果任务队列过载，</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">将输出如下错误日志并拒绝请求：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">thread pool "default" queue overflow: N tasks waiting</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">如果出现上面的错误，说明线程池的负载很高，这是可以通过添加线程数来解决这个问题。当达到机器的最高处理能力之后，增加线程数并不能改善这个问题。</span></span></p><h2 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 黑体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">一切从</span>“源”开始</span></strong></h2><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">下面主要通过剖析</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的源码来了解线程池机制实现原理。现在先来了解</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">Nginx</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池的两个重要数据结构</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_t</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">和</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_t</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_t<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">结构体</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">struct</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 80, 50); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_s</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_thread_mutex_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">mtx</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_thread_pool_queue_t &nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">queue</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_int_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">waiting</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_thread_cond_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">cond</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_log_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">log</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_str_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">name</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_uint_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">threads</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_int_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">max_queue</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;u_char &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">file</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_uint_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">line</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">};</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">下面解释下每个字段的用途：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">1)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">mtx:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">互斥锁，用于锁定任务队列，避免竞争状态。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">2)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">queue:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">任务队列。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">3)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">waiting:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">有多少个任务正在等待处理。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">4)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">cond:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">用于通知线程池有任务需要处理。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">5)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">name:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池名称。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">6)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">threads:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池由多少个线程组成（线程数）。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">7)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">max_queue:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池最大能处理的任务数。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_t<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">结构体</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">struct</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 80, 50); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_s</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_thread_task_t &nbsp;&nbsp;*</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">next</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_uint_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">id</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ctx</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">handler</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">)(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;*data, ngx_log_t *log);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ngx_event_t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(0, 0, 192); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">event</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">};</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">下面解释下每个字段的用途：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">1)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">next:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">指向下一个任务。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">2)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">id:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">任务</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ID</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">3)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ctx:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">任务的上下文。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">4)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">handler:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">处理任务的函数句柄。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">5)&nbsp;</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">event:&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">跟任务关联的事件对象（当线程池处理成任务之后将会由主线程调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">event</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">对象的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">handler</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">回调函数）。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池初始化</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">下面介绍下线程池的初始化过程。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">在</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">启动的时候，首先会调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_init_worker()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数来初始化线程池。</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_init_worker()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数最终会调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_init()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">，源码如下：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">static</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;ngx_int_t</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_init</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(ngx_thread_pool_t *tp, ngx_log_t *log, ngx_pool_t *pool)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">for</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(n = 0; n &lt; tp-&gt;threads; n++) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;err = pthread_create(&amp;tid, &amp;attr, ngx_thread_pool_cycle, tp);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(err) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ngx_log_error(NGX_LOG_ALERT, log, err,</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: Consolas; color: rgb(42, 0, 255); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">"pthread_create() failed"</span><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_OK;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_init()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">最终调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">pthread_create()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数创建线程池中的工作线程，工作线程会从</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_cycle</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数开始执行。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_cycle()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数源码如下：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">static</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;*</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_cycle</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;*data)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">for</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;( ;; ) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_thread_mutex_lock(&amp;tp-&gt;mtx, tp-&gt;log) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NULL;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tp-&gt;waiting--;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">while</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(tp-&gt;queue.first == NULL) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_thread_cond_wait(&amp;tp-&gt;cond, &amp;tp-&gt;mtx, tp-&gt;log)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!= NGX_OK)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">) ngx_thread_mutex_unlock(&amp;tp-&gt;mtx, tp-&gt;log);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NULL;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">获取一个任务对象</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task = tp-&gt;queue.first;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tp-&gt;queue.first = task-&gt;next;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(tp-&gt;queue.first == NULL) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tp-&gt;queue.last = &amp;tp-&gt;queue.first;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_thread_mutex_unlock(&amp;tp-&gt;mtx, tp-&gt;log) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NULL;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">处理任务</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task-&gt;handler(task-&gt;ctx, tp-&gt;log);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task-&gt;next = NULL;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ngx_spinlock(&amp;ngx_thread_pool_done_lock, 1, 2048);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">把处理完的任务放置到完成队列中</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ngx_thread_pool_done.last = task;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ngx_thread_pool_done.last = &amp;task-&gt;next;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ngx_unlock(&amp;ngx_thread_pool_done_lock);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">) ngx_notify(ngx_thread_pool_handler);</span><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通知主线程</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_pool_cycle()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数的主要工作是从待处理的任务队列中获取一个任务，然后调用任务对象的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">handler()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数处理任务，完成后把任务放置到完成队列中，并通过</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_notify()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通知主线程。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">添加任务到任务队列</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通过上面的分析，我们知道了线程池是怎么从任务队列获取任务并处理。但任务队列的任务从哪里来的呢？因为</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的使命是处理客户端请求，所以可以知道任务是通过客户端请求产生的。也就是说，任务是主线程创建的（主线程负责处理客户端请求）。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">主线程通过</span>ngx_thread_task_post()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数向任务队列中添加一个任务，代码如下：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_int_t</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_post</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(ngx_thread_pool_t *tp, ngx_thread_task_t *task)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if (ngx_thread_mutex_lock(&amp;tp-&gt;mtx, tp-&gt;log) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通知线程池有任务需要处理</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_thread_cond_signal(&amp;tp-&gt;cond, tp-&gt;log) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">) ngx_thread_mutex_unlock(&amp;tp-&gt;mtx, tp-&gt;log);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">把任务添加到任务队列中</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;*tp-&gt;queue.last = task;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;tp-&gt;queue.last = &amp;task-&gt;next;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;tp-&gt;waiting++;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">void</span></strong><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">) ngx_thread_mutex_unlock(&amp;tp-&gt;mtx, tp-&gt;log);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_OK;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_post()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数首先调用</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_cond_signal</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通知线程池的线程有任务需要处理，然后把任务添加到任务队列中。可能有人会问，先通知线程池在添加任务到任务队列中会不会有顺序问题。其实这样做是没问题的，这是因为只要主线程不调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_mutex_unlock()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">把互斥锁解开，线程池中的工作线程是不会从</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_cond_wait()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">返回的。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">收尾工作</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">当线程池把任务处理完后会把其放置到完成队列中（</span>ngx_thread_pool_done<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">），然后调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_notify()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">通知主线程有任务完成了。主线程收到通知后，会在事件模块中进行收尾工作：调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">task.event.handler()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">。</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">task.event.handler</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">由任务创建者设置，例如在</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_filter</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">模块的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_thread_handler()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">函数：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">static</span></strong><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_int_t</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_thread_handler</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(ngx_thread_task_t *task, ngx_file_t *file)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(tp == NULL) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_http_complex_value(r, clcf-&gt;thread_pool_value, &amp;name)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!= NGX_OK)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tp = ngx_thread_pool_get((ngx_cycle_t *) ngx_cycle, &amp;name);</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">task-&gt;event.data = r;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; color: rgb(112, 173, 71); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">//&nbsp;<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">设置</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">event</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的回调函数</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;task-&gt;event.handler = ngx_http_copy_thread_event_handler;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(ngx_thread_task_post(tp, task) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;r-&gt;main-&gt;blocked++;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;r-&gt;aio = 1;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_OK;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">task.event.handler<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">被设置为</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_thread_event_handler</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">，就是说当任务处理完成后，主线程将会调用</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_thread_event_handler</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">来进行收尾工作。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">哪些操作会使用线程池</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">那么哪些操作会使用线程池去处理。一般来说，磁盘</span>IO<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">会使用线程池来处理。在</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_http_copy_filter</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">模块中，会调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">读取文件的内容（当启用了线程池时），而</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">会把读取文件内容的操作让线程池去处理。</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">代码如下：</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ssize_t</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(ngx_thread_task_t **taskp, ngx_file_t *file, u_char *buf,</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;size_t size, off_t offset, ngx_pool_t *pool)</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">{</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;task = *taskp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(task == NULL) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task = ngx_thread_task_alloc(pool,</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">sizeof</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">(ngx_thread_read_ctx_t));</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(task == NULL) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task-&gt;handler = ngx_thread_read_handler;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*taskp = task;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ctx = task-&gt;ctx;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ctx-&gt;fd = file-&gt;fd;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ctx-&gt;buf = buf;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ctx-&gt;size = size;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;ctx-&gt;offset = offset;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">if</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;(file-&gt;thread_handler(task, file) != NGX_OK) {</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_ERROR;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: Consolas; color: rgb(127, 0, 85); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">return</span></strong><span style="max-width: 100%; font-family: Consolas; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">&nbsp;NGX_AGAIN;</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">}</span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">从上面的代码看到，</span>task<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">的</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">handler</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">被设置为</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read_handler</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">，也就是说在线程池中将会调用</span></span><span style="max-width: 100%; font-family: Consolas; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_read_handler</span><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">()<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">去读取文件内容。而</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">file-&gt;thread_handler()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">将会调用</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_post()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">，前面已经分析过，</span><span style="max-width: 100%; font-family: Consolas; box-sizing: border-box !important; word-wrap: break-word !important;">ngx_thread_task_post()</span><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">会把任务添加到任务队列中。</span></span></p><h3 style=" max-width: 100%; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-family: 宋体; font-size: 21px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">图解</span></span></strong></h3><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><span style="max-width: 100%; font-family: 宋体; line-height: 21px; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">最后用一张图来解释</span>Nginx<span style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">线程池机制的原理吧。</span></span></p><p style=" max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><img data-s="300,640" data-type="jpeg" data-ratio="0.8289738430583501" data-w="497" src="data:image/JPG;base64,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 " src="ciab8jTiab9J6QlF1OgFAu3LhzWYvQHn6MY4vraiaYBCwTJ7Qkq7yIT24iaN2p4iaAOiasQiaLns9Bd4GicCX34dXbuBpQ"  style="height: 412.181px !important; box-sizing: border-box !important; word-wrap: break-word !important; width: 497px !important;"  /></p><p><br  /></p>
                </div>
                

                
  <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display: none;"></div>


                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name">Linux内核那些事</div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p class="reward_button_wrp">
                    
                      <span class="reward_pop_panel">
                        <img src="https://res.wx.qq.com/mpres/zh_CN/htmledition/pages/home/index/pic_mp_app4290ba.png" alt="">
                        <strong>扫一扫下载订阅号助手，用手机发文章</strong>
                      </span>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                            </div>
		<div class="comment">
			<h3 style="margin:26px 0;font-weight:100;padding-bottom:4px;border-bottom:1px solid #ccc;">精选留言</h3>
		    暂无...
		</div>
	</div>
	<div class='dy_all'>
		<a href='http://mp.weixin.qq.com/s/bQ-G8hcYFmVscLtX_ditvA#rd' target='_blank'>
			阅读全文
		</a>
	</div>
</body>