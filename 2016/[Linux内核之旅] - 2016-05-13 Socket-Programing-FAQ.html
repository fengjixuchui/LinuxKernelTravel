<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		Socket-Programing-FAQ
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px solid #e7e7eb;font-weight:400;} .rich_media_meta_list{font-size:14px;margin-bottom: 22px;}
		.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:14px;}.rich_media_meta_text{color:#8c8c8c;color:rgba(0, 0, 0, 0.3)}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content{text-align:justify;} .rich_media_content * {max-width:100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display: none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:677px;margin-left:auto;margin-right:auto;}}a.fwjm{font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px;} body{line-height: 1.6;letter-spacing: .034em;}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;} img{max-width: 677px!important;}

		.crawler-info{padding: 8px 0;} .article-link>img{margin-left: 20px;width: 16px;}
		.comment-item::before,.comment-item::after{content:'';display:block;height:0;visibility:hidden;clear:both;*zoom:1;} .comment-item{margin-bottom:30px;}
		.avatar{width:12%; padding-right:10px;float:left;box-sizing:border-box;} .avatar img{width:100%;}
		.comment-body{float:left;width:88%;} .comment-body .comment-info{color:#b3b3b3;margin-bottom:4px;margin-top: -5px;} .comment-body .comment-info>span:last-child{float:right;} 
		.comment-author{border-left:4px solid green;padding-left:6px;margin:8px 0;}

		@media screen and (max-width: 420px) {.article-link>img {margin-left: 0px;}}
		@media screen and (min-width: 480px) {.avatar {width: 9%;}.comment-body {width: 91%;}}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div class="crawler-info">
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
			<a href='https://mp.weixin.qq.com/s?__biz=MzI3NzA5MzUxNA==&amp;mid=2664601880&amp;idx=1&amp;sn=4acaba0c60c95e3ef977e2d52c6e6c7c&amp;chksm=f04db4fdc73a3deb7c8f22ec09cc2f05bf2468bec278cf71546139181bb84f2c6d7404fd4474&amp;scene=27#wechat_redirect&cpage=72' target='_blank' class="article-link">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAMAAABA3o1rAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk4QUEzQzVDNkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk4QUEzQzVENkNGQjExRTk5NzNBQ0VBMjgzMjY1NjkwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OThBQTNDNUE2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OThBQTNDNUI2Q0ZCMTFFOTk3M0FDRUEyODMyNjU2OTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5TKSKsAAAAclBMVEUuLi77+/stLS1VVVXx8fFOTk7s7Ozt7e1qamp5eXlNTU2WlpZFRUU6Ojrq6urn5+d/f3/8/Pw9PT0/Pz+YmJg8PDyZmZlAQECfn5+QkJBBQUFra2vo6OhDQ0OSkpKenp5WVlY+Pj7r6+tpaWksLCz///9o6ILHAAAAJnRSTlP/////////////////////////////////////////////////AKd6gbwAAACNSURBVHjajJHpEoIwDISDVMotcnuCmLz/K9KCdlqO6v7p7Mw3yW4KxG85fnUkIVfZ5J0SsCtqcgRw0HzjQYY2AAOIdRuaK4ReAPJ5nmglL5qICahpU60C0uXguQ9TgIwGJoDnT9z/ABmxt60ot0N2CsDLfb9mvBxs9ql+n5o9bEDBgbif7/1F4g80CjAAqrVAnnsm5f8AAAAASUVORK5CYII=" />
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">Socket-Programing-FAQ</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <span id="copyright_logo" class="rich_media_meta rich_media_meta_text meta_tag_text">原创：</span>
                                                                                        <span class="rich_media_meta rich_media_meta_text">
                                                        张义飞
                                                    </span>
                                                                
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">Linux内核之旅</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">Linux内核之旅</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">LinuxKernelTravel</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">Linux内核之旅</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2016-05-13</em>





                </div>

                
                
                                
                
                
                
                                                
                                <div class="rich_media_thumb_wrp" id="media">
                    
                                        
                                    </div>
                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <h2 style=""><span style="font-size: 16px;">引言</span></h2><p style=""><span style="font-size: 16px;">Socket编程FAQ，由Vic Metcalfs创建，这是一系列关于socket编程相关的常问的问题。这些问题整理自comp.unix.programmer新闻组，我省略了其中一些比较基本的socket编程问题，有的问题的解答已经过时，因此我更新了部分回答。</span></p><h2 style=""><span style="font-size: 16px;">How can I tell when a socket is closed on the end?</span></h2><p style=""><span style="font-size: 16px;">如果对端调用</span><code style=""><span style="font-size: 16px;">close</span></code><span style="font-size: 16px;">或者</span><code style=""><span style="font-size: 16px;">exit</span></code><span style="font-size: 16px;">退出，并且没有设置</span><code style=""><span style="font-size: 16px;">SO_LINGER</span></code><span style="font-size: 16px;">选项，那么本端调用read会返回0，无论调用多少次都返回0第一次调用write后立即返回0，其实在内核层面会收到对端响应的</span><code style=""><span style="font-size: 16px;">RST</span></code><span style="font-size: 16px;">报文，此时如果再次调用</span><code style=""><span style="font-size: 16px;">write</span></code><span style="font-size: 16px;">会导致</span><code style=""><span style="font-size: 16px;">EPIPE</span></code><span style="font-size: 16px;">错误，这个错误会引起</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">信号的产生，而这个信号的默认处理方式就是关闭程序。</span></p><p style=""><span style="font-size: 16px;">注:更详细的分析详见</span><a style="box-sizing: border-box; color: rgb(12, 137, 207); font-size: 16px; text-decoration: underline;"><span style="font-size: 16px;">网络编程最佳实践</span></a></p><h2 style=""><span style="font-size: 16px;">What’s with the second parameter in bind()?</span></h2><p style=""><span style="font-size: 16px;">是一个</span><code style=""><span style="font-size: 16px;">struct sockaddr</span></code><span style="font-size: 16px;">类型的参数，这是一个通用的套接字地址结构，根据你的套接字类型，应该传入不同的套接字地址结构，通常会有&nbsp;<br style="box-sizing: border-box;"  /></span><code style=""><span style="font-size: 16px;">sockaddr_in，sockaddr_un</span></code><span style="font-size: 16px;">等，为了让bind可以接收不同类型的套接字地址结构就使用了通用类型</span><code style=""><span style="font-size: 16px;">sockaddr</span></code><span style="font-size: 16px;">，通过强制转换，将其转换为&nbsp;<br style="box-sizing: border-box;"  />对应的套接字结构来使用。</span></p><h2 style=""><span style="font-size: 16px;">How do I get the port number for a given service?</span></h2><p style=""><span style="font-size: 16px;">使用</span><code style=""><span style="font-size: 16px;">getservbyname</span></code><span style="font-size: 16px;">，这个函数会返回一个指向</span><code style=""><span style="font-size: 16px;">struct servent</span></code><span style="font-size: 16px;">结构体的指针，其中有一个字段s_port就是对应服务的端口号了(网络字节序)。&nbsp;<br style="box-sizing: border-box;"  />下面是一个小的例子:</span></p><p><img data-s="300,640" data-type="png" src="data:image/PNG;base64,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 " src="SeWfibBcBT0GmSCMaAxhIkSWiaamPaSviaaYI6M7icicwf3e6MdT1PHmRUM6cUYqfBsNpaeGxCPkiaGtlMjowLKqx7Og"  data-ratio="0.5179856115107914" data-w=""  /><br  /></p><h2 style=""><span style="font-size: 16px;">if bind() fails,what should I do with the socket descriptor?</span></h2><p style=""><span style="font-size: 16px;">如果你选择exit，那么系统会负责将socket描述符关闭，如果你不exit，那么可以手动去调用close来关闭套接字描述符</span></p><h2 style=""><span style="font-size: 16px;">When should I use shutdown()?</span></h2><p style=""><code style=""><span style="font-size: 16px;">shutdown</span></code><span style="font-size: 16px;">一个典型的应用场景就是向对端发送结束请求(内核负责发送FIN报文)，表明请求结束了。close也具备这样的功效，那么close和shutdown的区别和联系是什么呢，close本质上只是减少套接字描述符的引用计数，当引用计数变为0，才会导致TCP/IP的四次挥手过程。因此在多进程场景下，close并不会导致请求结束(也就是导致内核发生四次挥手过程)，只是会较少套接字描述符的引用计数。而shutdown则不一样，shutdown会导致内核发起四次挥手过程中的前半部分，也就是半关闭。因为socket是一个类似于pipe的机制，不过socket是双向的，pipe是单向的。通过shutdown可以进行半关闭。也就是关闭了写端，但是仍然可以从socket中读取对端发送过来的数据。</span></p><h2 style=""><span style="font-size: 16px;">Please explain the TIME_WAIT state</span></h2><p style=""><span style="font-size: 16px;">TCP/IP协议就是这样设计的，是不可避免的。主要有两个原因:</span></p><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">可靠地实现TCP全双工连接的终止</span></p></li></ul><p style=""><span style="font-size: 16px;">TCP协议在关闭连接的四次握手过程中，最终的ACK是由主动关闭连接的一端（后面统称A端）发出的，如果这个ACK丢失，对方（后面统称B端）将重发出最终的FIN，因此A端必须维护状态信息（TIME_WAIT）允许它重发最终的ACK。如果A端不维持TIME_WAIT状态，而是处于CLOSED 状态，那么A端将响应RST分节，B端收到后将此分节解释成一个错误（在</span><a class="replace_word" title="Java EE知识库" target="_blank" style="box-sizing: border-box; color: rgb(223, 52, 52); font-weight: bold; font-size: 16px; text-decoration: underline;"><span style="font-size: 16px;">Java</span></a><span style="font-size: 16px;">中会抛出connection reset的SocketException)。因而，要实现TCP全双工连接的正常终止，必须处理终止过程中四个分节任何一个分节的丢失情况，主动关闭连接的A端必须维持TIME_WAIT状态 。</span></p><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">允许老的重复分节在网络中消逝</span></p></li></ul><p style=""><span style="font-size: 16px;">TCP分节可能由于路由器异常而</span><code style=""><span style="font-size: 16px;">迷途</span></code><span style="font-size: 16px;">，在迷途期间，TCP发送端可能因确认超时而重发这个分节，迷途的分节在路由器修复后也会被送到最终目的地，这个迟到的迷途分节到达时可能会引起问题。在关闭“前一个连接”之后，马上又重新建立起一个相同的IP和端口之间的</span><code style=""><span style="font-size: 16px;">新连接</span></code><span style="font-size: 16px;">，</span><code style=""><span style="font-size: 16px;">前一个连接</span></code><span style="font-size: 16px;">的迷途重复分组在“前一个连接”终止后到达，而被</span><code style=""><span style="font-size: 16px;">新连接</span></code><span style="font-size: 16px;">收到了。为了避免这个情况，TCP协议不允许处于</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态的连接启动一个新的可用连接，因为</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态持续</span><code style=""><span style="font-size: 16px;">2MSL</span></code><span style="font-size: 16px;">，就可以保证当成功建立一个新TCP连接的时候，来自旧连接重复分组已经在网络中消逝。</span></p><h2 style=""><span style="font-size: 16px;">Why does it take so long to detect that the peer died?</span></h2><p style=""><span style="font-size: 16px;">因为默认情况下，除了发送数据和ACK外，是没有任何其他数据发送的，因此如果你只是简单的等待对端数据的到来的化，那么如果对端静默的消失了就无法通知你了。通过设置</span><code style=""><span style="font-size: 16px;">SO_KEEPALIVE</span></code><span style="font-size: 16px;">可以进行定期的进行检查，检查连接是否有效。但是需要注意的是这个定期检查的时间间隔至少是2个小时，幸好这个值是可以通过系统参数进行修改的。如果你发送数据给对端，对端响应了ACK那么就表示连接是有效的，但是如果连接是无效的，就会导致数据重传，重传一段时间后你才能得知连接是无效的。大多数互联网程序在服务器端采用超时读的方法，如果在指定时间间隔内没有收到请求那么服务器端就放弃这个客户端。那么如何去维护一个空闲的长连接呢?，通常有两个办法:</span></p><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">使用SO_KEEPALIVE</span></p></li><li><p><span style="font-size: 16px;">使用应用层的心跳(比如发送定期发送空请求)</span></p></li></ul><h2 style=""><span style="font-size: 16px;">What are the pros/cons of select(), non-blocking I/O and SIGIO?</span></h2><p style=""><span style="font-size: 16px;">使用非阻塞的IO意味着你需要不同的轮询socket去查询它是否有数据，轮询会消耗大量的CPU时间周期。因此应该尽量避免去使用轮询。</span><code style=""><span style="font-size: 16px;">SIGIO</span></code><span style="font-size: 16px;">允许socket有数据可读的时候会由操作系统触发一个</span><code style=""><span style="font-size: 16px;">SIGIO</span></code><span style="font-size: 16px;">的信号，然后在信号处理函数中可以接收数据处理数据，这个方法的缺点就是容易导致数据混乱(不知道是哪个socket的数据)，当有多个socket需要读取数据的时候，你应该选择select机制。select可以同时监听多个套接字描述符的数据是否就绪，除此之外select还支持超时机制。</span></p><h2 style=""><span style="font-size: 16px;">Why do I get EPROTO from accept()?</span></h2><p style=""><code style=""><span style="font-size: 16px;">EPROTO</span></code><span style="font-size: 16px;">意味着协议发生了不可恢复的错误，通常这个错误发生在accept的时候，在accept未返回之前，这个连接被重置了。</span></p><h2 style=""><span style="font-size: 16px;">How can I force a socket to send the data in its buffer?</span></h2><p style=""><span style="font-size: 16px;">不能强制发送缓冲区中的socket数据，正常情况下调用write写入数据的确会导致TCP发送一个</span><code style=""><span style="font-size: 16px;">segment</span></code><span style="font-size: 16px;">，但是不保证一定会这样。有很多原因会导致TCP不会发送segment，　比如关闭滑动窗口，比如</span><code style=""><span style="font-size: 16px;">Nagle algorithm</span></code><span style="font-size: 16px;">算法等。</span><code style=""><span style="font-size: 16px;">Nagle</span></code><span style="font-size: 16px;">算法会导致发送的多个少量数据被整合成一个包被发送出去。</span><code style=""><span style="font-size: 16px;">Nagle</span></code><span style="font-size: 16px;">算法的出现是为了解决包头负荷的问题，当发送大量小数据的时候，每个小数据都会被附加固定大小的包头那么当要发送的数据小于包头大小的时候，很显然这是一种浪费，因此通过Nagle算法将大量小数据封装在一个包中进行发送。 然后nagle算法对于一些实时性要求高的场合还是不尽如人意的，会导致延迟的问题。可以通过发送带外数据来解决，但是带外数据的内容有限制，一次只能发送１个字节。综上所述要想刷新socket的缓冲，你必须要关闭</span><code style=""><span style="font-size: 16px;">Nagle</span></code><span style="font-size: 16px;">算法。　还有另外一种情况就是当关闭滑动窗口，如果对端不进行数据读取那么发送端的数据就会一直在buffer中直到整个buffer填满，发送端阻塞。</span></p><h2 style=""><span style="font-size: 16px;">Whats the difference between select() and poll()?</span></h2><p style=""><code style=""><span style="font-size: 16px;">select</span></code><span style="font-size: 16px;">的</span><code style=""><span style="font-size: 16px;">fd_set</span></code><span style="font-size: 16px;">是一个</span><code style=""><span style="font-size: 16px;">bit mask</span></code><span style="font-size: 16px;">，有固定大小，从用户空间到内核空间的拷贝开销少，而</span><code style=""><span style="font-size: 16px;">poll</span></code><span style="font-size: 16px;">需要使用者分配</span><code style=""><span style="font-size: 16px;">pollfd</span></code><span style="font-size: 16px;">数组。但是</span><code style=""><span style="font-size: 16px;">fd_set</span></code><span style="font-size: 16px;">有大小限制而</span><code style=""><span style="font-size: 16px;">pollfd</span></code><span style="font-size: 16px;">数组没有大小限制，</span><code style=""><span style="font-size: 16px;">select</span></code><span style="font-size: 16px;">的移植性更好。</span></p><h2 style=""><span style="font-size: 16px;">How do I send [this] over a socket?</span></h2><p style=""><span style="font-size: 16px;">对于整型值你需要使用</span><code style=""><span style="font-size: 16px;">htons</span></code><span style="font-size: 16px;">做字节序的转换，而对于字符串来说就是一串单字节流。因此不会有任何问题，如果你要发送的是一个结构体，那么你需要在对端用同样的结构体来接收。在使用的结构体的时候要考虑结构体在不同的OS平台上对齐方式不同，应该通过避免字节对齐来屏蔽这些差异。如果你要发送浮点型的数据，那么可能你需要很多工作要做。</span></p><h2 style=""><span style="font-size: 16px;">How do I use TCP_NODELAY?</span></h2><p style=""><span style="font-size: 16px;">首先你要确定你想使用这个选项，它将会关闭</span><code style=""><span style="font-size: 16px;">Nagle</span></code><span style="font-size: 16px;">算法，导致网络拥堵，浪费带宽。如果通过关闭这个选项没有导致你的速度所有增长，那么请关闭这个选项，通过</span><code style=""><span style="font-size: 16px;">setsockopt</span></code><span style="font-size: 16px;">可以设置</span><code style=""><span style="font-size: 16px;">TCP_NODELAY</span></code><span style="font-size: 16px;">。</span></p><h2 style=""><span style="font-size: 16px;">What is the difference between read() and recv()?</span></h2><p style=""><span style="font-size: 16px;">read等同与recv的flags参数等于0的情况，write等同于send的flags参数等于0的情况。并且在一个non-unix系统上是不允许在socket上使用write和read，但是send和recv总是可以的。</span></p><h2 style=""><span style="font-size: 16px;">I see that send()/write() can generate SIGPIPE，Is there any advantage to handling the signa,rather than just ignoring it and checking for the EPIPE error?Are there any useful parameters passed to the signal catching function?</span></h2><p style=""><span style="font-size: 16px;">通常来说只能传递一个信号的数值给信号处理函数，通过</span><code style=""><span style="font-size: 16px;">sigaction</span></code><span style="font-size: 16px;">还可以传递一些额外的参数。我的建议是忽略</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">信号。通过</span><code style=""><span style="font-size: 16px;">errno</span></code><span style="font-size: 16px;">值来处理这个错误要比通过信号处理器来处理更好。但是有一种情况需要设置</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">为</span><code style=""><span style="font-size: 16px;">SIG_DFL</span></code><span style="font-size: 16px;">，就是当程序将调用</span><code style=""><span style="font-size: 16px;">exec</span></code><span style="font-size: 16px;">簇函数的时候，内核会负责将所有已经设置信号处理函数的信号设置成</span><code style=""><span style="font-size: 16px;">SIG_DFL</span></code><span style="font-size: 16px;">，为了保证其移植性在调用exec簇函数之前，手动设置</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">为</span><code style=""><span style="font-size: 16px;">SIG_DFL</span></code><span style="font-size: 16px;">。</span></p><h2 style=""><span style="font-size: 16px;">After the chroot()，calls to socket() are failing. Why?</span></h2><p style=""><span style="font-size: 16px;">在某些类unix的系统上socket函数实际上会可能会打开</span><code style=""><span style="font-size: 16px;">/dev</span></code><span style="font-size: 16px;">下某些特殊文件，因此你需要在chroot环境下创建dev目录和相关的特殊文件。同理一些</span><code style=""><span style="font-size: 16px;">daemon</span></code><span style="font-size: 16px;">的进程会在</span><code style=""><span style="font-size: 16px;">chroot</span></code><span style="font-size: 16px;">后调用</span><code style=""><span style="font-size: 16px;">syslog</span></code><span style="font-size: 16px;">汗水和，这个</span><code style=""><span style="font-size: 16px;">syslog</span></code><span style="font-size: 16px;">函数可能会使用</span><code style=""><span style="font-size: 16px;">UDP socket</span></code><span style="font-size: 16px;">或者</span><code style=""><span style="font-size: 16px;">FIFO</span></code><span style="font-size: 16px;">或者</span><code style=""><span style="font-size: 16px;">unix socket</span></code><span style="font-size: 16px;">等，为了避免在</span><code style=""><span style="font-size: 16px;">chroot</span></code><span style="font-size: 16px;">环境下调用失败，最好在</span><code style=""><span style="font-size: 16px;">chroot</span></code><span style="font-size: 16px;">之前调用</span><code style=""><span style="font-size: 16px;">openlog</span></code><span style="font-size: 16px;">。</span></p><h2 style=""><span style="font-size: 16px;">Why do I keep getting EINTR from the socket call?</span></h2><p style=""><span style="font-size: 16px;">这不是一个真正要退出的错误条件，这个错误意味着调用被信号打断了，任何可能会阻塞的调用都应该使用loop包裹起来，然后检查EINTR。</span></p><h2 style=""><span style="font-size: 16px;">When will my application receive SIGPIPE?</span></h2><p style=""><span style="font-size: 16px;">当TCP连接关闭，并且接收到了对端的</span><code style=""><span style="font-size: 16px;">RST</span></code><span style="font-size: 16px;">报文的时候。此时如果调用</span><code style=""><span style="font-size: 16px;">write</span></code><span style="font-size: 16px;">会导致</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">错误，但是read是没有问题的，总是返回0.一般出现</span><code style=""><span style="font-size: 16px;">SIGPIPE</span></code><span style="font-size: 16px;">的场景是客户端关闭了连接，但是对端不知情依然向套接字写数据，第一次写入的时候会导致接收到对端发送过来的</span><code style=""><span style="font-size: 16px;">RST</span></code><span style="font-size: 16px;">报文，第二次就会产生</span><code style=""><span style="font-size: 16px;">EPIPE</span></code><span style="font-size: 16px;">错误了。</span></p><h2 style=""><span style="font-size: 16px;">What are socket exceptions? What is out-of-band data?</span></h2><p style=""><span style="font-size: 16px;">不想C++里面的异常，socket的异常不是表明发生了错误，socket的异常通常表示带外数据到达的通知。带外数据又称为紧急数据，看起来像是从主的数据流中分离出来的一种数据流。很好的将数据分为了两种不同类型。带外数据又称紧急数据，但是并不是说这种数据传送很快，而是说这种数据的优先级要高，还有一点需要注意的是如果你的程序没有即使读取带外数据，可能会导致数据丢失。而正常的数据流则不会出现丢失的情况。</span></p><h2 style=""><span style="font-size: 16px;">running on? How can I find the full hostname(FQDN) of the system I’m</span></h2><p style=""><span style="font-size: 16px;">一些系统的hostname是</span><code style=""><span style="font-size: 16px;">FQDN</span></code><span style="font-size: 16px;">的格式，然而另外一些系统则是</span><code style=""><span style="font-size: 16px;">unqualifield hotstname</span></code><span style="font-size: 16px;">，BIND推荐使用FQDN格式的主机名，但是大多数&nbsp;<br style="box-sizing: border-box;"  /></span><code style=""><span style="font-size: 16px;">Solaris</span></code><span style="font-size: 16px;">系统则是趋向于使用</span><code style=""><span style="font-size: 16px;">unqualifield hotstname</span></code><span style="font-size: 16px;">。大多数支持posix语义的系统都提供了uname来获取主机名，但是一些老的BSD系统&nbsp;<br style="box-sizing: border-box;"  />仅仅提供</span><code style=""><span style="font-size: 16px;">gethostname</span></code><span style="font-size: 16px;">.通过调用</span><code style=""><span style="font-size: 16px;">gethostbyname</span></code><span style="font-size: 16px;">找到你的ip地址，然后传递给</span><code style=""><span style="font-size: 16px;">gethostbyaddr</span></code><span style="font-size: 16px;">，得到</span><code style=""><span style="font-size: 16px;">hostent</span></code><span style="font-size: 16px;">结构体，然后这个结构体中的&nbsp;<br style="box-sizing: border-box;"  /></span><code style=""><span style="font-size: 16px;">h_name</span></code><span style="font-size: 16px;">成员就是你的</span><code style=""><span style="font-size: 16px;">FQDN</span></code><span style="font-size: 16px;">了。</span></p><h2 style=""><span style="font-size: 16px;">How do I convert a string into an internet address?</span></h2><p style=""><span style="font-size: 16px;">用户输入的地址可能是一个字符串的ip地址，也有可能是一个域名,因此需要考虑这两种情况，下面是例子:</span></p><p style=""><img data-s="300,640" data-type="png" src="data:image/PNG;base64,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 " src="SeWfibBcBT0GmSCMaAxhIkSWiaamPaSviaaSSTNzkKbPGaIJbwsywsgpt6JOib5duE0FxQdTgIKMBNawM4ldLpnoFg"  data-ratio="0.41007194244604317" data-w=""  /><br  /></p><h2 style=""><span style="font-size: 16px;">Why does connect() succeed even before my server did an accept()?</span></h2><p style=""><span style="font-size: 16px;">只要你在</span><code style=""><span style="font-size: 16px;">socket</span></code><span style="font-size: 16px;">上调用</span><code style=""><span style="font-size: 16px;">listen</span></code><span style="font-size: 16px;">完成后，内核就已经做好接收连接的准备了，通过</span><code style=""><span style="font-size: 16px;">UNIX</span></code><span style="font-size: 16px;">的实现会立即和发起</span><code style=""><span style="font-size: 16px;">syn</span></code><span style="font-size: 16px;">请求的连接完成</span><code style=""><span style="font-size: 16px;">SYN</span></code><span style="font-size: 16px;">握手，然后为其创建socket，并将其放到等待队列中，等待</span><code style=""><span style="font-size: 16px;">accept</span></code><span style="font-size: 16px;">调用。因此在accept前socket已经就绪了。内核会维护两个队列，一个是半连接队列一个是连接队列，当一个连接发起</span><code style=""><span style="font-size: 16px;">syn</span></code><span style="font-size: 16px;">请求后会被放入到半连接队列，等待完成三次握手后会被移入到连接队列中。</span><code style=""><span style="font-size: 16px;">listen</span></code><span style="font-size: 16px;">的第二个参数就是用于设置这个连接队列的大小。当连接的数量超过这个连接队列的大小的时候连接会被忽略，导致对端连接超时，进行超时重连。</span><code style=""><span style="font-size: 16px;">connect</span></code><span style="font-size: 16px;">调用会导致发起syn请求，当对端响应最后一个</span><code style=""><span style="font-size: 16px;">ACK</span></code><span style="font-size: 16px;">的时候，</span><code style=""><span style="font-size: 16px;">connect</span></code><span style="font-size: 16px;">才会返回表示三次握手完成。</span></p><h2 style=""><span style="font-size: 16px;">Why do I sometimes lose a server’s address when using more than one server?</span></h2><p style=""><span style="font-size: 16px;">因为</span><code style=""><span style="font-size: 16px;">gethostbyname</span></code><span style="font-size: 16px;">的内部实现问题，其内部实现是使用指针指向一个内部的</span><code style=""><span style="font-size: 16px;">static</span></code><span style="font-size: 16px;">的</span><code style=""><span style="font-size: 16px;">struct hostent</span></code><span style="font-size: 16px;">，因此在多次调用</span><code style=""><span style="font-size: 16px;">gethostbyname</span></code><span style="font-size: 16px;">的时候会导致，当前这次的结果覆盖上一次的结果。为了避免这个问题在通过</span><code style=""><span style="font-size: 16px;">gethostbyname</span></code><span style="font-size: 16px;">得到结果后应该拷贝一份出来。</span></p><h2 style=""><span style="font-size: 16px;">How can I set the timeout for the connect() system call?</span></h2><p style=""><span style="font-size: 16px;">最简单的方式就是</span><code style=""><span style="font-size: 16px;">connect+alarm</span></code><span style="font-size: 16px;">通过alarm定时，时间到了会触发信号，通过信号打断connect调用，从而实现所谓的timeout功能，最好的方式应该是使用</span><code style=""><span style="font-size: 16px;">select+非阻塞socket</span></code><span style="font-size: 16px;">的方式，在使用非阻塞connect的时候，先直接发起connect调用，如果连接成功就不需要使用select，如果没有连接成功再去使用select来接管connect。非阻塞socket连接的时候可能会有下面三种可能:</span></p><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">连接成功，通常这种情况出现在服务器端和客户端在同一台机器上。</span></p></li><li><p><span style="font-size: 16px;">连接失败</span></p></li><li><p><span style="font-size: 16px;">连接返回-1，错误码是EINPROGRESS，这表明连接正在进行中，但是还没有完成</span></p></li></ul><p style=""><span style="font-size: 16px;">如果连接成功了，那么select认为是可读(如果有数据到达就是可写),如果连接失败了那么select认为是即可读也可写，并且设置对应的错误码。一个带超时功能的connect代码实现如下:</span></p><p style=""><img data-s="300,640" data-type="png" src="data:image/PNG;base64,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 " src="SeWfibBcBT0GmSCMaAxhIkSWiaamPaSviaacbGbd3F41Tia6wfgBX6CqleEKnib0z9dF9ABFZTs1HvdtgqWJGSTSrsg"  data-ratio="0.9748201438848921" data-w=""  /><br  /></p><h2 style=""><span style="font-size: 16px;">system choose one for me on the connect() call? Should I bind() a port number in my client program, or let the</span></h2><p style=""><span style="font-size: 16px;">通常客户端连接服务器端的时候会选择一个随机的端口进行连接，但是某些程序要求客户端连接的时候必须是从某个指定端口开发起的连接。但是这样的客户端会存在一个问题，当客户端主动断开连接的时候会导致</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态，伺候</span><code style=""><span style="font-size: 16px;">2MSL</span></code><span style="font-size: 16px;">期间，这个客户端都无法再次发起连接，如果是使用随机断开则不会出现这个问题。</span></p><h2 style=""><span style="font-size: 16px;">Why do I get “connection refused” when the server isn’t running?</span></h2><p style=""><span style="font-size: 16px;">当内核的连接队列中没有任何已经就绪的连接的时候，connect就会被阻塞，如果对端在指定端口上没有server启动和监听，那么connect将会被拒绝，并返回错误信息，connection refused。</span></p><h2 style=""><span style="font-size: 16px;">over the socket? Is there a way to have a dynamic buffer?What does one do when one does not know how much information os comming</span></h2><p style=""><span style="font-size: 16px;">要要读取的数据大小未知的时候，你可以让buffer尽可能的大，你也可以在读取数据的过程中动态的扩充buffer的大小，malloc分配一个大的地址空间但是这不是真正的物理内存，只有等这段地址空间被写入数据了才会真正映射到物理内存上。所以你可以不用担心过度的申请内存，导致的资源浪费。</span></p><h2 style=""><span style="font-size: 16px;">Why don’t my sockets close?</span></h2><p style=""><code style=""><span style="font-size: 16px;">close()</span></code><span style="font-size: 16px;">只是关闭了你的socket接口，并不是socket本身，当</span><code style=""><span style="font-size: 16px;">close()</span></code><span style="font-size: 16px;">调用后，会导致socket的描述符减少，一旦为0就会触发内核开始发起四次挥手的过程，因为某些技术原因会导致socket在调用close()后仍然处于活动状态数分钟，这是很正常的情况，例如上文中提到的socket处于</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态，在这个状态下就会停留</span><code style=""><span style="font-size: 16px;">2MSL</span></code><span style="font-size: 16px;">时间。</span></p><h2 style=""><span style="font-size: 16px;">How can I make my server a daemon?</span></h2><p style=""><span style="font-size: 16px;">有两种方法，第一种方法就是使用</span><code style=""><span style="font-size: 16px;">inetd</span></code><span style="font-size: 16px;">或</span><code style=""><span style="font-size: 16px;">xinetd</span></code><span style="font-size: 16px;">，第二种方法所有的工作都自己来实现。</span><code style=""><span style="font-size: 16px;">inetd</span></code><span style="font-size: 16px;">是一个超级服务器可以负责帮我们监听，处理网络数据，因此如果使用了</span><code style=""><span style="font-size: 16px;">inetd</span></code><span style="font-size: 16px;">那么我们的程序就不需要处理与网络相关的代码了，</span><code style=""><span style="font-size: 16px;">inetd</span></code><span style="font-size: 16px;">会负责将接收到的数据通过标准输入传递到后端的程序进行处理。</span><code style=""><span style="font-size: 16px;">inetd</span></code><span style="font-size: 16px;">也会接收来自于后端程序的标准错误和标准输出的内容。如果你选择自己来实现，那么下面是实现的主要代码:</span></p><p style=""><img data-s="300,640" data-type="png" src="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAbsAAANXCAMAAACbrgH8AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABgFBMVEX////h4en7+/339/n34b+goaStz/n14bDdEEThxfn7++nTxMa/v8bL3/339+O7qabR9/n3z7Wfv+OToaGXqL7399CtobX398vhEI3q9/nT6+nlvqfpi0Xfp+OuyLbRs6KTtM+toaTlYFDdi8veEI3ir3Dj9/m74fnhEETl4fnfEGreYK/vp2r3xY3738/Bv8/f+/2+zNz769XAxNXr+/3NwM/o0cjD1On7+93Jv8bT6/3gq7Hf+93jrZDJi3rm9+X35b1oNH2Py/n34bNUgYduSEz39+WtanoeNHoeNKPH9/mRNKOBhJXB9/mvbnCv4fmrgpIYXpeQz/mu4+RsR5YeidGRNHoAgYJsr+SjnYEQg7PEnYcHnc33zqRLk7FISHD3982PSExISEyPSJOvr3avbkxISJPL9/mubJas5fltbbSRNI/R987fsY9IbrNIj82PSHD3y5NuSHAeNI/Lj0yQYqpuj80ear1sqrapj0yRzdFubnCPj81ubkyQYZEYnas+eDwBAAAAAWJLR0QAiAUdSAAAOFRJREFUeNrtnY1/00bWtnmiUAJxTLPBpW1oU6DJLgUChMV8dJMGZwkh7ZJAgbrQbMEtH6FdUtO0pd3n6fuvv3Nmzkgz8liSLVnSic/9ayMsS5ajK2c0mlvnzL59LLL6HxZV7RuJl8cqpZgdXTE7umJ2dMXs6IrZ0RWzoytmR1fMjq6YHV0xO7pidnTVL7vR/W9l/l0OjB0s+nSQksXu0HhlIoZd9fDbk3/xnOyqh6eOvG2tqb3zduTBj777nvkvB7tgC1aH9lno3h9PwG76L90+LMzKye5YACjEziG9/tgHRZ+oEspuMw/FsZueAr2FIVZ758OpKSA5MzX1kYes4Af8P7p/CjaqHRfbBx9QPQEUDoyNjX3gHRM/x06qVx+/Vz0hfuB7Pt6j787KV9UTJ4s+U+VTj+y80SNzM3/1NKbjH8EKb+Yj9abJrnb8r7AQcWqG39G/AbrqiVPqlYyqo5+cUv9SP8SrA5+c8rc/6R04DVud+Zhbz5B6ZvdR9XDALsAkZa6c/Ej+E6Jvagrf969oZ8ZkG6jYnT3pGezgVdCuwipsN8/6QFlKvbETbeXUFDaXBjsdVy52IiwNqbjzgN7J3thx3HXIyW7e7m6a20/+pfYO0LAubTPYe8GG9K/ezJG3R6G9PCJi0u6PquudELSER2UoHYBr3cea3QHdZp6FGPXZHTtZ9Jkqn+x+ZqVSOXc+kt30WxBJ0AGZOjKn2cHLj/RK6M98KFaKxQXdZTFjT8TU0b+NjUlsZ2RfRfwcf/c9WDkmgJ7F9yx23M90iMdV6IrZ0RWzoytmR1fMjq6YHV0xO7oqk3+HYhsvoSx2C5XKxb9Hsxucf6d9BMXONoXYxnPJGle5dH6kfjmW3cD8O5OQmx0Pr5gKt5n1C5HsBujfISEMP2nc+aTYxnOpg91EdNwN3L/TMfi3kzhUrXZjG69TIXb1uOvdwP0749/VE2zjRWlfPLp8/TuLnR93bOM5tM+Frkj/zmB3FlayjddVJrsrV0vg3xkLGWJs43UVj6vQFbOjK2ZHV8yOrpgdXTE7umJ2dFUK/44du77U8WzttWh2mfp3WhY7V2IX+3cuheNu/kIsu+z8O6ei2PG4iqkODyjae83Gv8MhLvTozMS7TlNPiv07lyx2V67GPvOQiX+n2WlXDk1Xp6mHu7F/16mONtMBz9w+E//Oj7v3TPPHbep5xg7wT/bvfIXZXbl6LYJdRv6dm53b1FO7sX/nkDPuBu3fQYN47ONOdi5Tj/27rgr7d7LJHLR/B47dp37cGY5dh6nH/l2EeFyFrpgdXTE7umJ2dMXs6IrZ0RWzo6tS+HesvhSuawSP1kaxy8i/q56QN+CW1OiKn4ZnrGM5Fc5HuBTPLgv/TlYNC0lzcqXh8YCKQ3be67l/xLDLKP/OO6NYHIPoQxtPG3chdmzcdZX9zMPElbi4y8S/OwOYYDz6pFqnzDln3LFx110mu/qFkXh2meTfqbjD3Eg90NytzWTjrov2mWFXAU1EsMss/+6MtvG8pOw47joUukdQcTf4/Dt1vTvmG+Xy/0/Mhx7YuItVr+yy8e+QHVh2JwM+0rjTZTTZuIsVj6vQFbOjK2ZHV8yOrpgdXTE7umJ2dFWsf8eJd2nUkX8Xn8OVYf5dd3Zs48XLZnctNu4Gn3+nxTZenHpkl2n9TDPxbuwDXTHzGM5/xzZenHrNWc60fmYw493Zk4ZVB4kkbOPFqyMPyPHAirl9pvUzbXY47HzWrGKLYhvPpY78u0tR7DKun4k8jklYOisoVMVW7cY2nkPOetF51c/EGe9OmxYs5uaxjRevcP6dvEXIqX6mtuqOyadXfKtO5eaxjRerEoyrnAVETKV3lYCdDLGTRZ8IgioBO1afYnZ0xezoitnRFbOjq9Ln37HF11U2u3nnBHjm9gOpn+nrTOdd3oEOU4HdPJRzTplodoPz77pDcbIb9vv58NyFMewy9e/A6oG5ttQrT4WdDL0zH6CNhxafn5snxW6ekslu4eJ4pRIz72SW/p3kdjJw8+Q/zp4UYXVGxqZh49lxx26elMWuMhFTgzFj/+7sSe/YqcDNk4nMB04eOHFQrLVtvI42k928cNz93TnxZLB15vPfHVX+j3yl4u/A6cXpD06cCtl4Xdhx3PnXu/FrKu5y8++OLR0MXqlm8Oi7n362eDps4+ncPHbzDIXnyJbUcpv/Tl3R8JXqgEIH5NjpDhtPFdVkN89UseMq5v0c2uesxCqS3Rl27VKJxzPpitnRFbOjK2ZHV8yOrgbBbvl6I26TlX/GbpJyhySfeSP7z8xTJrt5KEkV499ZWr25dms9eFn7XL2Q7ELvhU9bdxRHv/hXwh2sLau3N3r93ROzW928c7fvMzw49Tr/XUgaV+eLjpdJ5WYXu2Uf7JJqdfPLTQLsnCl4xubL99ZFRDVEaK2twR+t4rO0Bq/g59r9IODUe7UHakullX9+9VXTq3791cN/4SvxEvVIvGjIn199o95reFv//ufDr79q6B3g3W/M7YNXwG722w3v8ZNWSxxPLR5/932r1QyOfqMFL2HR8KpPW8+ee/4m+F43epLd6P6/eiXSvviwM9mtvtj2ll/O1X4Qi+vbRmwBVP0Cl3Kx+mLdCMDq5rb6hwyZo19se1vfmN9m5Z//wmiC91b+ub318Mcvmv9p6hh7ZG0djrvZV3Ne9cVzgeM5Lh4/2fEe/6QDEv7VVitWXm8ANmAnNll5OYfvoaRzZYzCUmB3aHwimp232IT/tu6Lfy41NKYtEXC33OwgQNd+3ta7/wfDzMVuS4TRQ81Orn/U2PpGvPTZwQ5d2T1tCXQqfL7dwAXQqT7VYY98JKLdhmb3naJssQtrlUCbOe98YMXcvvbLZyKSbHYQhfAPJ7uXc/YB/yObOQyjr7ApVCS25epIdtalMBR3x6EJXFHHw4VkF1wId1vQTDrZ4XuoLnFXMu1zhV2EB+QtffirJ9vLoM0EdksQdz9sd7CrPQj35Vb+PYenXf7LILHtPZJxB58i2kvZZlrsvEfWBckKQ4GoLU7+4yfyeHohoLR9JJrra6vNVOxWwn9jlvw28y9eibTPFXZR7LZkz2NLNoTQD1n7bQ56KW8A1CL0VXClfg8azd/0eTn6hWgXt9Xi4ZzqbfjnX7x6A4T+I3sgW/ItZKd3gKVxyftPqK/SFl0QaC1F46kW0GMJogliSzSkYrMWdmpgkyDuYK2b3B2hdfV8TolU5LjKlqARCqWMJSPLVxsuiLvu40W956t6uLxxlzM7GU3fyJ9WOCXZLdkOip2MsFZrRy679Eei3tOanCoVOh7PJCxmR1fMjq6YHV0xO7pKyS6BVWcrynfJ1k9Tz94n8RJjD9tzLlo+su/NK7G5JCH5p8YwfOybqgQnSu/Q/SR2/UgYdn5q3n4HUg9rW+zcrlSCP5nJI3NxmxQgq67RpfMx9cS6Kyk7l+J3iGLX5d1JxxBIn46i0EwZZ9m08xEuO0ejjc1t/05bdfDKN8l3W+ouF420pQ9vtF7Ntb+48er3ViPkmcGmDb2Djh/lrtnOm3zV0DuYltuz5+YduH88PNv4BWuff7221tQGoxbs3rQO22riR+NAGX5rTwdeqT2geqUf/077CP6JhnOBDpq3K07kbqP97Mcnzdmm7ZnJE3jvuR836j3lrhmbeOEdDMstiDv7eP4lCgfE70tDw4o731/wDwveHn40stPfGj+uxOwOjV9wpi2b27v8O3jVwQ4dNGm2eOK0iLUBOxz/bbdk4Fjs0KHRmwQfGeygz+yO2WbaxwuxQ4PKbjNnMa4tdujm6SPgt/b8FMMyycq/O3fe6b6a27v8Ozc7DJoIdjpwErPDHdzsrOMlYQf0dvzvu+v/GTnZlbGnaee9xuffufw7cRFcvRk8FKYeMkAHLY7dLpwwfCpBMVDuWld2u37cidaz+tS/3tnHE3cIbznY/bBt//YSuInePlDAbhSvd6UajLbrPMTn3zn9u8W1tT+MP+lZ2VdBI81i1+mZvYETJ3fA97S75mwz1Q76ldjtD3gmpWU4dpqd6l1oL1HH3KLRV4H9AhsP/Tvjo9+Ycaf6mezf5aSZnmIk2r/D+zv273qQdt762VeNq/R0pG7Hwasd+3esrMTs6IrZ0RWzoytmR1fMjq46auNcY3ZUFPbvFnrJnWQVKivv9YI7Aa/o78hyK+wjzFeYHRWFx6IvctyRUW/z37HKpI58c3hOLMoDYpVG4fleJTRmR0J8b05XzI6umB1dMTu6YnZ0xezoitnRVc/skmfchXKj5HNbpXy+mKoUO3FXDnfjSfy7BAltqBA79bxkOTPZaGqfQvc+pCFcuTohvYTkbWYPCW06H66UmWw0hW2mTCGB3Lt6JTKXJCqhTWerqSS5UKqdz4wDLzOZ7OqQwhWTBxSR0BZkq8msOjvVzp6ri5WFbHbjl6PnUPOikqJ05gVm1dmpdgG7Mmay0ZTVZor2Mi7/Lp6dnY7ayY7jLiuZ7CD3TuabR3lA3RPaDHa7HXGn8+G8Ub7eZSXsZ4qbA9HBXJA/o9hFJbTpNhOT5OxUO7+Pwv3MzJTfuArf32Wt/NjxuErW4vFMumJ2dMXs6IrZ0RWzoytmR1eWf4eLaHYzJatUMbwy/TtcRLPjMa3SyBzPTDIPF7Mrj3pmN1mqklpDrR7ZVQ8zutKI446unOyi/Du+3pVGpn+nbTxmR0M935uPsotTFvU+rsL35mURj4nRFbOjK2ZHV8yOrpgdXTE7ugrn3zlKMDK7ksry7y6dH6n3Nnchq0DZ45kyj4vZEVEHuwlmR0UhdnW+3tGRzc6JjtmVVBY7ja7fGoyTU2/FLVjZyfTvrlxN4N9FidnlKr43pytmR1fMjq6YHV0xO7pidnTF7OgqU3ah2poRMx27amv2K6wdMXwlJEz/Tt6ip5n/Dtmt3lQVc4wZxoNp5tU/HbU1oWJc9WlDzjHfkBusvN6QRQH9qauxUln1qVwJi283PL9my9CVbjH9O9B8Bh7Qlip1ZGYuhNnZklsiOyhpJaCt/PdX79PfG96uybgtKM765a6qtze8WZhSXtdKGraSSR0eUP/eK9bW9LxFWYdRn8pdiBFZRrPhyaB69hxra3pLH95owcmXWyK7WYiy2ebKm3d+/N9ZBzsIzYCdLPY4rIFnsbtyNd0zD7rE2Nraz9v6+rMrWzwso2nX+PN2BTgBR20JWAVfCau9095ZPN6YVYVUm/rzgZ232zTjTn76kF7xwnE3n2bOUCzJqOJOnUmg5fnl/ODkm+xUUCE7FXeaXVOElCvuDHZP9aUQa3IOW2nOMDuow5gpO3V1S85OFr6dbbbVIqbNXLlhHIrjLq5+ZpQsdlgxc1e+QHYilqpPn4XZqS2RHXQuIeS6sYN2NtxXwbyyYUsvC/t3ssnsjx3W1vT7KqrrAHU0d/wSqLOt1h9+bU0fjNxS3yO0Zc/fZxe+R3g1598jCHaPn8BHDHc/cyDjKjOJk72Sb+nSkHYzB8ou+WhJzJYyTo34szWkVzsez6QsZkdXzI6umB1dMTu6YnZ0ZeXfiaVjCrUe2HH9jjxl+3f1i5fSsBu2QamCZY1nLpz7B7OjI5Od+HElFTuu8ZerQnMXpmHHtTVzlsFOugmVygTHHRGF/DsVd/36d3y9y1XW/HfMjpQyvTfn2pq5KttxFb43z1M8JkZXzI6umB1dMTu6YnZ0VSy7UCqXrVRJeYNX8c+ldeTfDaqOX5A9YMhip5O79JbmQ5tB4pcjBczS2Y8/O/GBd2Dsk1PVEwf9tQc+ORXeRH+FtGl/xcme/+7a4OKuvRO3haaCW1qDoz2wO/2ZYHbs4NmTZz4I1trs5Cao9Gl/hcn2gAbITj6kLtPwmjrxDtPwcOWufnx21kzfg3AI3lPpe/JZ24afvqez+ELsTpx+TzAbGxsDhEfffS9A6GLXf9rf6P6imnabXcqc5QhycPK/3YA0PPgLx8Q7zAlSuXkYUbglXk7gRHmejjZM36u+UMkN+Cm7RmaDT3BsDDBVT5yyVlvhh+zSpv2Vgx1o3vHASiYHwrh7Lv+C9an287n0//6Wuisw2/LziNRJhGyiGwovfsqus79z5tO/iYg7M/ZB9NfKIO2vMHXk310aOLvbGz2wA3o7YXYvVQsZxe7A6TMfHIBW88zYycjvlT7trzA560X36wFFyWfXFhcsNzuVIovsMH0Pz656D9P3VOJWBzuzyqNoLJGdp34q2W2m3CF12t/o/qLG38P5d/IWYXDsnsi+Bp4aTMPzY27W6qvIngBsIjvk6j2VvievUcFFTp9n8yQeO+gd/dvYQfH/mInLZid3SJ32Vzte1NMC+d6bx3XwLfWalFc73mOfvecdbOH9XfVwoXFXTnY9jqtM9+odxu6QKO1vsjjLkscz6YrZ0RWzoytmR1fMjq7KyC62g1n0gEZJZOffzTsnwMv7O8lqmjcacMushhIb+n4dF8VbZ6WQlX/nng4ob3aqmuZ/X851Z1e4dVYKWR6QKwkoG3bauHM6b8qyDlfT/L0Rwa5o66wUMtktXByvVAYz7yQad07nDS3rUDXNlwd+jWBXtHVWClnsxEUvVQ3G7kLjzum8aT7hioxLX0awG7JSmU7Zcfd358STGRwGjTun89aNXfvfih2M8rvjbsgVfl5Fxl32HhAad07nTVpnrzc6qmlWb/9fAx4Mgf/D7Iq2zkohK/9uAdNeB8AOjTun86ass85qmu2WttXkUyzPnutF8dZZKZTTvXnGxl3h1lkpVEZ2ScdVCrTOSqEyjomxkonZ0RWzoytmR1fMjq4KYhcxUx4PmSSV6d/NQ0mqfPw7xQ7nMcE7utXNO3fhBZtzCTWI+e8SS7OTjt3q5pebkh2bcwkVykdwpuBlcRyYcKbhbf287S3eWseZ8pZgtjU5QaWCtYrs2JxLphA7V9hlwW71xbqMsq37KtbMn/4VTrNjcy6ZbHZ+OlDW7JavqwkNvcU12UmJZsfmXCLZ7OadD6xkcJhlNO68T79QqWvxcceKk8XObzkz94BqD9Q9wdb91ZtBD7P2wzas1Kl2mh2bc8lk+Xc67AaQfweN5m9zW6KLUnvQDGbKU30V2TkRtwhCgJTNuWQqx7iK5dixOZdQ5WDnGFcZdnMugcrBjtWPmB1dMTu6YnZ0xezoitnRlZV/BwZeilyS6Sm+m85Tpn8HtcRS1RMreaXZvSY7H+GyczQ6+afNMLscZfsI9Uo6/44d7zxlx90FZ9pyDx83w8+a5Ccr/+7ceaf7mvzTOO7ylJ33mjb/jq93ecry7+pp8++YXZ7K9N6c7xFyVZbs+N48X/GYGF0xO7pidnTF7OiK2dEVs6Mry79bGNhcTqwBKOzfLZSg9ikrmczxTEjgciXgFf0dWW6FfYT5CrOjIst7rVcqFznuyCi3+e9Ymasj3xyeExvEHGqszGX6d7DAUvvMjoD43pyumB1dMTu6YnZ0xezoitnRFbOjqwGyC9XItJXgcUC5CVZ94FJHDil2C6puZrb+XahGpme9UBVVYLr30BTUMPW7uQlWW+Gimp1S4yqXzo/UL49cuTohvYRM20w3u0n1JGe7c+5wnx1uonMcONWhQ36bWb8gc+/qlf5zSaDuVNNbhGJvi81wjcwlWNQ+/3pNFvJDEmp+H2v+O2A3C9PIaFgceN0UsJsAfPWL/ecBrb6Qld1kiczFRqhW3xLw82oP7suSfuryBbP7tL7dsOe/E+xmYQZD/wrHV7xu0uwg765+YfxymjnUFtcgjJZ/Xf6zsbRts8OKffBC/o8gZNzZc6iJSyCgM9ipappcVLND+wJ00j5Il3+3uAZxNfPhRy/C7LBSZgJ2t4/LmbY47mK1L0Anc+/mNcT++iqiQax9fuSzzV/WQxG35Jc8hf91xUzJzp7/TrSZbYCnN8FqmnrBCiTZXbnqz38nu5n9sYOqmD9ve6s373tLv82FamTCy/s+O93zUH0Va/476KvAxHd+54T7md1U1LhK/Bx3fH8Xp6LY8bhKevF4Jl0xO7pidnTF7OiK2dEVs6Mry7/DNLz+2c1wYfwcZfp3xjR4/bHjcatcZfp3qefhYna5yvTvUrOb5LpGecr071Kyqx5mdLnK9O847mjJ9O+CKQz79O/4eperTP9Ol9FkdjSU6b35KDs1eSrbcRW+N89TPCZGV8yOrpgdXTE7umJ2dMXs6Cqcf+cowZgzu9XNO3eLPis0ZPl3alEsu9XNLzeZXSLZ/p2/yJ6dzL+T6XgNnaknH3TvzGteVexG93PiT7Rs/27ElcKVCTuVfwdavreOmXqrL9bttFglZpdQtn/nnP4uC3aYDeRtibi7ta4z9UT0QfYJanpq6giMh65ym5lM++LRZcIO8+8EQvVPlanntB2YXULtc6EbQA1GzL8T7JZuSYyQqffAWcSD28yEMv07nYY3CHYq/w76Km8+X8dMPdlo/haKPXGLILTO7OLF9+Z0xezoitnRFbOjK2ZHV8yOrpgdXVFjl3wa7uqJU5539N33jFV7rFqE6d/JZ2tLPv+dLLpy9uPPTnzgAZ6xsZP2+5KY1DHYwjt7+j1jh71VpcX070Dzg/KAspHKeDh7+rMTB2F5smMDn51+79hBY4e9VR2pw7/L33t9/N33rVZTLJ8YZTT1wqqtqc+9RnFGhtaBsbEx8erY9NjY6feA3ZlPTiEzDwPPZ6cCb48Mt1n+3ZWrRTzz8PjJjvf4p43qi+cC43Mso4kLu7amfcE6I5iNfXLqqCB1QPx/TEA6dlCwOwO0/Aud64q3x9j5FkL+c4YCsOrTBkQY1IRTJeFwYddnDHc2ZNzJxlFEmQo0cQmUV7iA3SenjD32VBVO279TdRiLYHd7YwXdvLTsFj+22e3dnqadfzeStn5mPwJ27WfPHz8xoeHCrq0ZFNVUkuwO6DYT2Z06C/CqJ/B6d+C0yW4Ur3d7IuUl7N9JiDmzE30UqHYKjaa6rIFwYdXWDHfyVV/lLFz1vICdWHFQ3xwEfRYl1depHd8TCboluDeHuEusBHU3Ueb9nRairx7eO3FHiF0W4yqTeyRLsATsWH2K2dEVs6MrZkdXzI6uSsguNG+e2bPcU8MiqWXl340cGndMoVYMOz/JBO7o5AO3kLiwtwy4lLL9u/rFS8WzU9Ls/BplW9/Azz1lwKWU5d8tnPtHEexUGt7Wz9ve4q318Lx5PqxpmdGwpwy4lDL9u0PjE1cKYKfT8OTEeV545i6cl+TPOw/ngtfMDmTPfzdSBDs/DW9RJcG62AltSXh7yoBLKcO/k48aVVLMGdqn/DS8T7/wJ1pzsKv9su1xT9NUyL9TcZevB6TT8Lbur94MepiYKRs4diru9pQBl1LW/HfFsMM0vC3RRak9aIbmzVOdE3G5w+vdnjLgUqqE9+YhWY7d3jLgUqr87BzjKnvFgEup8rNjdROzoytmR1fMjq6YHV0xO7rqyL8rLodr+Z7y6FgJZc9/d63AuKv9eddbfrme/oOGRqZ/N1B2sfUzYbxyGkrWssGTULZ/N7ic5fj6mdPfeI8efs3skqsj/87xwEoGh0lQP3O6udn0HnH5xeTqyL+7NBh28fUzt0R7yaUze1E4/06mnRdSPxO8VenRcZuZUOH8O3mLUEz9TLhHAKzMLqH43pyumB1dMTu6YnZ0xezoitnRFbOjKzLskhd46FF0n7S28+/mnRPg5fNNqk9lhZxuko9pQvmcHaiXAxVzYPEMSpG1YOXKjQZUJdOb78qV+J432zRW6i2xRCDdnD4r/849HVBucRdVaEWm4UFVv2BLqDU2C7jlq5X/vpwz2TXMz9TsVJ0rtaUuEUg3p8/y71xJQHmw25XBgecZwwEWQVFNdX7VqfYMdpKWYvfy90ZCdmrL2R39BtWcPtO/W7g4XqkUMO/k7o5ayvOM4VC9LTHpopp4UZqVBVANdt5u02d34NdQm9n0wuzkStxSgpSfQTWnz/TvFioThdRg7GgJIUBm5anXRTX9DsVsEKFhdnNLXyaMO7mlwY5oTp/p3y3Aj3ru+Xf+Zc5ipzDpoppBZ1CSdraZc+1/J2UHW8p18gfVnqbp38HzKjLucs7h2lVnFhm81l0IOMm6qGaQhiff89lBLWKfXfX2/yVkB1vKA92Dd6nm9Fn5dwuY9pozO+iP7MifcDlTFTPhFRTOxKKaqj/RVg2oZqe21/cIL2HXEDv/HkHdTuxaW2JpTro5fWTuzZMXzuxVZHP6yLBLNq4ig1fdcSQV3Zw+MuxYHWJ2dMXs6IrZ0RWzoysy7Abm36EIDq6Y/t08lKQi59+h8YBjafie3mtP23hlmv+uP/8OjQd/HNT6lD1t44Xmv3Om4A38S6Ty79CH650deRvPmv/OHXYl9+/Qy+nCbi/beHb+3aHxifzZpfTvotntZRvPzr+bdz6wMuCvkNK/Qx/OdvO09rSNZ+Xf6bAj5d+hDwdWnLTjemBH3Maz/DsddqT8O+3Dtc33tPa0jUfm3nxw/h2Kno1Hhl1P4yrDYeORYcfqELOjK2ZHV8yOrpgdXZFhx/5dh6z8OzDwCsglUerbvws8OnGPjQutofHvoJbYgOqJJVKf+Xc4dnJ7w5t9NYcLvdvQ+HeHxi87R6MH/iXS5d8F7FbuPceF/8nD49/VK/T8O7TjZMDt6IX/0cPi3x0av+BMWx7wV0ibfxeMN+/4C62h8e8Wzp13uq8D/gpp8+/8NnPlRlMvtIbGv1uokMy/67evsrf8uzrF/Dt9H3AbdmrgQn80+3dlEPt3HSLDjv27DpFhx+oQs6MrZkdXzI6umB1dlYLd8nVzkosEXUrwb8I79DwsQm4cJSzLv1sY3FxOkUJ2qzfVdPSOW7mQPeSzU+vVDokNuNXNO3cdO8wQuj2QCvt3C4XlTnrelpqra9IxsNHN2pPr9Q4JDbjVzS9x2iFrh1Ga3iuofkEmcLkS8Ab8FUS4qSmCFtVwozqjln+3i3faaqV22OEV/EMj6CHw7nbuQJndhPQR5iu5s8NZuhbX1Ixq6jIU8u9U3OFKw+kzvD3rAja6f2pq6sgcLsLH0+ysK94kmXFMLSv/ri4ue/nHnT/Dmoo732Y1/TtsM9VKw0ew2cUZcNMCJGzrswt2qB4mhy6v+e+i5WJn+3f+9S7kvXLcBejgkZXcPSCbnWHVBf6d760rmsrpu/e8+hQKtesdEl+xNLvRPXC9Q/8O5ntVWee5soPZ8OQ0eNhXkT2IsH83qy0+9PZgpVj3h+xn4llP3M+8c0fNtLdX+pklGlfp2arr8f5Oy95hlNytehnZ9fwIdDbjKjTvzUvGjpVMzI6umB1dMTu6YnZ0RYxdhNNH3o7rWcoDGlfGXVH+XXIpdjgOo2/sxM02vKaXQJdSftzNXxi5clV5CSVmp6TZ4RDk9P/7Rb4ml0CXUoEHpHLv6pXcc0kiBQNmDW/r521v8dY6On1L4BZJg13CWn75o2JHLoEupRS7K1fhmYc6pHDlnwcUpdUX6zLKtu6rWDN/4hVudfNu7Rfj9bCxG5HlF+sXxi8XMIdalJavK0PWW1yTnRQHu+lvPM2OWgJdSvnsrly9BvZBAfl3UVpG/8779Atl7nWwU66AfHho2HqaZtxB7t28qveQr3/XXbUH6p5g6/7qzaCHWfthG1b6xh3GHbkEupTy/Tt8xk92M8vDTjaav81tiS5K7UEzcPpUX0XfFdTMfiahBLqUInZvHpLl9NFLoEsp2uwc4yqUEuhSija74RazoytmR1fMjq6YHV0xO7qy/DuxLGA+IG96aljuprOV6d8dGn+/iLmcBl+Tdo/K9O8KmodLaIbZ9SHTvyuQ3ZA53tnI9BGKY+fNDNuzJlnI9O847mjJGXe5e0B8vetHpn8nbxXAwGN2JFSKe3O+R+hLZWDH9+b9qQzsWP2J2dEVs6MrZkdXzI6umB1dhfPvHCUYB14bR2fTObT6YrvoM1ReWf6dKqPJ7IjI9u9kGc382X29ttb0vKUPr8MD6yrjTibZNSS7RcgDGp7MrOSy/bsRVwrX4OuJ3ZfZIUsC3FJDZ9wJLd9bF+wWfxuujMjksn0E5/R3ebSZkOWzJFN+dMbdlljITNff2NnrItu/c6LLhZ1oG5GdyriDQBRvrL44fms93cfvXVlxp9HlXIMRcpIFIcUOM+5kI3oL2swtCW94suqSy/Tv9DR4BdTPlCUAVJqkyriDvsobiDtoPRvDlFWXXFTuzYcnqy65iLAboqy65CLCjuUQs6MrZkdXzI6umB1dMTu6Mv07beMNiJ3p9eip7gzp6biiLCGWKdO/MxaDZrd1v+sGzC6pOvy7AXmvMNIlC0tJcw6nj1EeHcCSwOQPvzgmuz5xsvy7wMbLmp1vC0hMeqo7T3p0Njs/7phdnEL+nV5kzQ7aSAElKIcp4055dF3YseJk+3f+YlDsdDlMyQ6Dkdn1KWfcZe8BweMLN0WIYTnMgN2SWKkWoeKY3GbGKuzfSYID8O/EJe4PgQbNuaCv8kasXJSLcHFMZhcnvjenK2ZHV8yOrpgdXTE7umJ2dMXs6IrZ0ZWVfyf+4ZhCLWd2CcbElu/ducO5XSH/rn7xEgF2tT/vessvedTT8u8Wzv2jCHZW4h36d3qAWr2nU/SUth7OedMwe9OQD5uZ/t2h8YkrhbCzEu8CN0Gyk+9Bip7vQcCsaY8efs3s7PnvRophZyXehdj5094Fbel0c7PpPbpb9KkrXIZ/9z70WCoFzBlqJd4lYLcl2svVTWYX8u9U3OVcg9FKvEP/Tpt6Lna1X7blNW/Yk/Ks+e8KZRd4e9K/U6aek528R5DBOdxJeaTvzYc8KY8yu2FPyqPMbtjF7OiK2dEVs6MrZkdXzI6uOvLvUuRwca38fGXPf3ctXdzxHBW5yvTvUrPjuWFyle3fpc1Z5vm08lRHHpDjgZUePo7nsctRHfl3l9Kw47jLU+G4k/Wi+/aA+HqXp8L5d/IWgdmRUKb35nyPkKuyZMf35vmKx8ToitnRFbOjK2ZHV8yOrjJlt3y9Yb60bhlWbjRi9x/cPUbU0ZN8s6SqvfN25t+962fa+XfzzgnwEh8F2enimDPmI3jdz1D1aevZc/kvucPKjVZrB1bCQi6/3WiLF2Lh7bb0e+IFfOLK6w39MY+/e979m7mOrnfo/s26fqR4I/jWliZjB3Rdv19wJoyV8L2qTxvdP9PKv3NPB9Rzm4nFMScT3+3hOZI7PP5pw1hZfbpjbrIrz3L19oY3+2pu5b+/ep/+3gh9SHLF7xDFrtu7cUO6XX4/r3Plyn9fzkl23T7T8u9cSUDJ2enCs1hwCo8If2ZNP7bgVav5+LvvYaUMo0ZwjuQOfiTJle1Xc252K/eer7x558f/ndXs4LPgb/bxE/mZSx/eaL2aa39x49XvrQYe3T4s7mB+s4a/iT7o9/LD1A76Pdjymc/OOp4XH3hdfj+vc+XKy98bil2XzzT9u4WLou1MU/tUpgzo4piqmYbzHHwr+KNr74jfd0d8M/UF7/lnAdv1WXUO1MrZHfEa2hRk15J/CBB3O+KDFo83ZkNxV33xXP5rV3zIbqP97McnzdmmPrp9WB03/jcTp9XYxAvvgK9gyyDu7ON51tVpdP/U1NSROVzote7fz/wlcOXKywO/KnZdrnimj7BQmUhXgxHTPVTc+Sianey+U78wXMaehdnBLjv+r9FE/FbcPZUR1m6KExpmJwMbroxyfXtHrA3Y2Ye12LV35MfrTYKPDHbAV7BlwM4+HvwWx2P7W67fz2KnVoq/k6UvFTv3Z5r+3QJc7uop8u9c7KyvCoGDZ038b/8FG39d8prgNx+d7MTvdaMp2Hnq97TYYdBEsNOHTcwOd3Czs47nJYg79+9n/hK4Unx0+99J4w6eV5Fx168HZLGrHtZXWPn7mb+pcU52g7gzdni94TdzTSc76KvManaTU2/pEyJ2aCRhB4fVvQb1zV6rNrMbu10/7kSwV5/639o+HgBL8OSA4/cz2eFKcbKqt/+v0f0zrfy7BUx77Y9dUABTxYK8wsKlXDQpsIB2fle2MPoMiVdvxKnB99QObdUG6e4y7m9c73bkLyvOmc8OUyhn5Q7QiOlrj2aHR7APizvoo7fV93S2mfg98ZXY7Y/gW1vH8+L7mV1+Pyl7Jfyht1tJ+pkDGFex7u/UFwdEu83kOyT7ozlenkct4u/vsvvMQbLrHCaRf6w7PeyQRNOZp+HJrxn1Rbuqv3GV6ONFj6sMiB1rsGJ2dMXs6IrZ0RWzo6u82RVr47k0CMstH5n+3TyUpBrMfEC+Bm7jZWePlV45zn8XqyxsvAztsdIrNP+dMwUvi+PkZeP1b4/RK+hozX/nDrss2OVn4/Vtj1FlN4J5QIfGJwbDLj8bLzt7rPSy8+/mnQ+sZHOknGw8LzN7rPSy4k6H3WBqMOZj43n92mP0inFa/p0Ou+zZ5Wbj9W+P0SvGWci4SrlsPLy/o1eMsxB2Odt4iewxgsU4eTyTrpgdXTE7umJ2dMXs6GoQ7Erk0VEdMkkkK/8ODLw0uSSoVB4dvkJ3TTt2/icPjTmXQKZ/B7XE0tUTi1dSj85318wst2Ey5xLIrp952TkanfSzsvTofHfNZDdM5lwC2f5dvZLCv8vUo/PdNSu7dIjMuQSy84AuONOWk35Wlh6d766FMoOHxpxLICv/7tx5p/ua/NOy8+h8dy2c1T0s5lwC2XmvKfPvMvTofHdNd26GzZxLIMu/q6fKv8vGo9P3CNpdQ3ZDZ84lZTeIcZWMPbqhM+cSaGDssvXohs+cSyAez6QrZkdXzI6umB1dMTu6Yv+Oriz/biHtXE5Kqfw7uKsG4w5rRD1B/0F/Mvt3gcL+3cKAcydj/bsQO/FOkBjJ/p0l07+DBC5XAl7Sz8rEv+tkpxh4Hvt3IVn1M8+dH5mv9M0uG/9OIm9ZcXfPdxLYvzNl5QHVK5WLKeIuE/+u83pn4GH/zlS2899l4N8Z7MSisyYz+3e+QvPfwSMrxfp3yA4aSqjzq9mxf9cp07+DWwUJrUj/DtkZ9Syl2L/rFPt3dMX+HV3xeCZdMTu6YnZ0xezoitnRFbOjK2R3aPzc+cz8O1Y+Qnb1i5B7d3VCegnMjoYUu4Vz/xDslJWQJpeElafwmYcJ8A/qkMKVKg+Ilacku7p63qF+YfxyqjnUWLlq3wg+alSpTIB9kC7/jpWn9D2CrBNw9Zqy8QZTP5OVsUx2cI8gu5nMjoT43pyumB1dMTu6YnZ0xezoitnRFbOjqwGyW77uSuXqM/HOlRe2hx95TiTLvzs0Xkk/H1Dt83X1D8lu9ebarXXzbXgw03yaOaGcOX17ObkugUz/7tD4+xnM5eSzc76WiXd9sHNrDyfXJZDp36Wch2uxKX/UPv96ba0RBJxiV3sAK/Fsy5l88PH3hocLnamHUul7ctHQOX16E3xv2APP9O9Sstu6LzAtNmoP7nvLkEiCAScXqy/W5T/UJUqwm4V8nRcyVwEXkKnnJ7b6KWBiYWaPyGQ+fM8b9iue6d+lZLf86/KfjaVtiQh4meyWr6+trf28rdk9lQklMnwwW1JlnQQprsgH0/C8IAEMk4qQ3d5Nrksg079Ly+7lzIcfvejCTmV0+XF3/FmQ5mVkexkXQpW+52SH73kcd0pW3PXnAdU+P/LZ5i/rTna1ByqgVOKdQNSGvMoncqVeQHbsM50qqbm+ttpMxQ7f83Ry3bDKZCfjD+4V+mO3evO+t/TbHLKDzsmaeKUWstH8TSfeQXhBdhy0lqLxVAvosTwLslxV+p5Ow1N5e0bcqcQ77mfmOq7SNfHOTk+OSt/z3xvubmb+7LqOqyh2Op0uKn1PvzfcVzsez6QsZkdXzI6umB1dMTu6YnZ0Fc6/c5Rg7IHdzJ6shVFWWf4d5JOkmbtwuIeocpft30lLgdkRke3fjbhSuJKzm9yDRbtKLNu/c05/l7j26WFGl6ts/86JjuOupLL8O42u3xwuvt7lKjt3MpV/x+xyVqb35qNDbsrkrGzHVfjePE/xmBhdMTu6YnZ0xezoitnRFbOjK9O/09PgMTsaMv070HwaD4iVqzr8uzTeKytXWf6dmgaP2RFRyL/D6biYHQXZ/p0/DR6zIyA7/25kcPUzcQK7qAWrN4X9O9lkMjsS4ntzumJ2dMXs6IrZ0RWzoytmR1fMjq6YHV1Z+Xd60Se76Sl+pj1P2f6db+P1F3d91qRl9SfLvwtsvD7bzBlml6NM/85Iw+uXHY9L5ih7/ruRlOy8Gc4myU+Gf3fZsPE47ggo5N+pRd8eEF/v8hSzo6tM7835HiFXZcmO783zFY+J0RWzoytmR1fMjq6YHV0xO7rqyL/LLIcrPJeaQ8v37tzZLvoM0JU9/921DOMunl3tz7ve8stYwqwuMv27tOyWPrwO88aoqe6W1oTue3p2IPWenBvPn2xk6+GcN33nrueN7ufxmD5k+3fpcpaXBLilhj/VnZqzULOT7/lz40lNf+M9evg1s+tXHfl3jgdWkn7WkpxPy5/qzmYn3wuYgqabm03v0d2iTwFZdeTfXUrNTk91F8tuS7SXq5vMrl+F8+9kveg+PSDkg1Pd1X7Yxp9Lt9zsar9sy2ueaDO5hFwfCuffyVuEVOz8qe4Woa8CP990iTt5jyCD8zgbEH2oFPfm1cMcd32oDOwmuepmXyoDO1Z/YnZ0xezoitnRFbOjK2ZHV3b+3bxzAjxze36Orzyy8u/c0wHZccfPz5ZGln/nSgLqaDP5ufWyyPTvFi6OVyqxtU8516csMv27hcpEkhqMnGNXEpn+3QJc7upx+Xccd2WR6QHB8yoy7iI9IL7elUWW97qA7jmzI6Ge7835HqE06pUd35uXRzwmRlfMjq6YHV0xO7pidnTF7OjK9O/mYWSM5wMiI57/jq5C8985U/CK/o4st6z579xhx+xKKjv/TkBkdmRk59/NOx9YKfo7styyPCAddoOYQ42VuSx2OuyYHQnxvTldMTu6YnZ0xezoitnRFbOjK2ZHVynZLV9v9Ha8lRuNvt7rXephxARfMP6wtXfezvCLZSYr/w4MvNhcEkv+qTEq3jz+7nlvJ0rv0P0kdv1I8Ub1aeuZ692Zv1hfMPQlY75SSJOlTMEw/bsr+H8/bWZSdi7F7xDFrsu7k47nSBOUY+2iUiZh2PUzLztHo43Nl++te6s3G7LuVEP8a+0WnA14dUuflt2W0I44o09arQYU1bzRejXX/uLGq99bDYyRx99932o11aYNvYOOn5UbsFJvohF9Lz9M7aDfgy2f+eys4+HZxi+IZTuxpKcW7N60Dttq4kfDJ4r/8Vt7JQ0827+rV2L8u9UX21CoDyq8LV/fxr9keNURd9UX8tf3dsWJ3G20n/34pDnb1IHyZMdbUeX+Vu499+NGvffThrfyesPYxAvvgK9gyyDu7OP5lyj1BbFspxV31dsbnn3Y9o4+kGanv3U5r3imf3do/IIzbdncfrEJ/23BXy+Ud5NnA151sJN/x99uwHkUau+ItQE7dWq8dksGjsVOnEARXw29SfCRwQ76zO6YbaZ9vBC7z9fDZeiEZjGuLXbqo/0j4Lf2asdLmIVh5d/Jet/R+Xe1Xz57sZ6IHQZNBDsdOInZ4Q5udtbxkrADejv+9931/4yc7EobdyMjmPeaIP9u6cNfPdleBm2muAiu3rwVsPsJGqPHTxpJ2O3CCftpI2An2kvZZnZjt+vHnWg9q0/96519PHGH8JaD3Q+hqvASuInePlDAbrS01ztkJy538fl3W2sN+VOWFX6wJktlLq6t/WH8Sc/Kvgo0YuraE7CD/oRYqcGIv/U3cOLkDvgetIvf2vEYtJlqB/1K7PaHeIX7WcfD3gV+QT/mFo2+CuwHB8Ldd2WTa3z0GzPuStzP3IvjKjM9FXZsQ990t9nl3VJ2M0vOTgaFjOLe1VuSpzxSt+OU8mpXdnasKDE7umJ2dMXs6IrZ0RWzoyvLv1tIMpfTDFfEL4nC/t1CXO5kKUeHhlOmfwcJXK4EPGsHZlcaWfUzZd5yDLtJrmtUFln5d/VK5WJ03FUPM7rSqOf57zjuSqPQ/HfwyEq0B8TXu9LIrn2KwcfsSKjne/PRcvohw6jex1X43rws4jExumJ2dMXs6IrZ0RWzo6ti2WWbcTdswrHoipyVPpF/11V+ckZyJWYHs9hvJ9t0eITsJLErVyekl5Afu6Sq/XnXW37Zb/LcXpXJDnLv6pW4uZy6CtjN4lPiDZ0PZ+fRYZYb5tiFsvHwPZe2Hs5503fuet7o/hLm4xSloM28BlZQ/eJ4Gnazr+Z0IhwuIKFN54oEmVIqx87OxsP3UKP7p6am/KHT6W+8Rw+/Zna2/L7K/Lnz9Qvjl+PnUOsqEUbwUD8mwuEC6FSf6qsa8sE8rc6soHaXp8qnm5tN79Hdok9WyeSzu3LpPNgHcfl3EarePv4syIYykqKMC6HKcnOyw/dQdtxtifZydZPZ2fLZgXd+9ZrKN++vBqNA1IZsOpUIpxeQreoj0VxfW20mptO97G4u1X7Zltc8gZQHwn3tUx1MeYsA9wg4VXaf7Ly26IJgIpxaQI/FKKGhstx0jl1HNh6sdQruEaCbWTvOtr2vQd+b2/UzorLcojPgUNXDHHe+8mGn8+iistwiM+BQk+wdGuLxTLpidnTF7OiK2dEVs6OrQbBL4uxYVRiysfHyKs1ZmqoPln8nllnMB9T9RAW1Lq3qJ4nPbDlKc5al2orpAR0af3/gcznhqeozq6EcpTnLUuXIZJd2Hq6IgpRY+dI/Geq376WCJagkpTkx8Ar3o0z/LiW7qIKUktQ9/2SoS0ZPFSyDDYsuzam/fjnYgebPnU8bdxEFKXWpTItdTxUsDXYFl+YsTTVN079LP3dh94KU1h9y0FVLXsHSZFdsac7S9DRN/85n1/8cajEFKf1W7/BbyXbwwUxOwR6lKM2p89gK9xJN/05e9lSt/X7YRRakxMqX+J662vdSwRJPVClKc2JPq3AvcWDjKjF2XGd1y+gdasfL0S8H4f1d4V7iwNjF2HGd1S0jd5jO3LjrvzQnXu2K9xJ5PJOumB1dMTu6YnZ0xezoitnRVTj/zlGC0WI3PcUPt5ZFln936fxIPW7uwt6mHWANULZ/h8OakW3mDLMriWz/bsSVwhVmV57BqSGX7d85p78L91VmSvK4xtDL9u+c6DjuSirLv9PoIj0gvt6VRaZ/B4t4/47ZlUU935vzPUJp1Cs7vjcvj3hMjK6YHV0xO7pidnTF7OiK2dEVs6MrZkdXzI6umB1dMTu62vc/LKrax2Kxctf/BwL7CvFetoseAAAAAElFTkSuQmCC " src="SeWfibBcBT0GmSCMaAxhIkSWiaamPaSviaa5aWBkfPedWs9fJM8EcyZOkc8PrrbsibKVmRiczKwExVkrSNSHmaDh4ng"  data-ratio="1.930022573363431" data-w="443"  /><br  /></p><h2 style=""><span style="font-size: 16px;">How can I listen on more than one port at a time?</span></h2><p style=""><span style="font-size: 16px;">使用select,poll,epoll这样的IO服用机制即可，内核会负责帮我们监听这些描述符的事件变化，然后给我们通知。应用层依次处理这些描述符的事件变化即可。</span></p><h2 style=""><span style="font-size: 16px;">What exactly does SO_REUSEADDR do?</span></h2><p style=""><span style="font-size: 16px;">这个选项告诉内核即使这个端口busy(TIME_WAIT状态)也要继续重用它。如果这个端口busy但是不是TIME_WAIT状态则会返回一个地址正在使用的错误。</span></p><h2 style=""><span style="font-size: 16px;">What exactly does SO_LINGER do?</span></h2><p style=""><span style="font-size: 16px;">SO_LINGER选项的含义:&nbsp;<br style="box-sizing: border-box;"  />SO_LINGER将决定系统如何处理残存在套接字发送队列中的数据，处理方式无非有两种:　丢弃或者将数据继续发送到对端，优雅的关闭链接</span></p><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">l_onoff零，l_linger忽略 close会立即返回，发送队列会一直保持，直到发送完成，系统保证将数据发送到对端 (默认行为)</span></p></li><li><p><span style="font-size: 16px;">l_onoff非零,l_linger零，close立即返回，发送队列立即放弃，直接发送RST包,自身立即复位，不用经过2MSL状态，对端收到复位错误号</span></p></li><li><p><span style="font-size: 16px;">l_onoff非零，l_linger非零 close会阻塞直到l_linger超时，或数据发送完成(套接字必须是阻塞的)，在超时时间内保持尝试发送，若超时则立即放弃发送队列。</span></p></li></ul><h2 style=""><span style="font-size: 16px;">How do I get my server to find out the client’s address/hostname?</span></h2><p style=""><span style="font-size: 16px;">使用getpeername可以得到客户端的地址，代码如下:</span></p><p style=""><img data-s="300,640" data-type="png" src="data:image/PNG;base64,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 " src="SeWfibBcBT0GmSCMaAxhIkSWiaamPaSviaasrvbXAicEYU3Zq7QSWKcLc1zaawgXSuJn1FFLDtufibYbDNkov2Ls5PQ"  data-ratio="0.49280575539568344" data-w=""  /><br  /></p><h2 style=""><span style="font-size: 16px;">What is the difference between SO_REUSEADDR and SO_REUSEPORT?</span></h2><p style=""><code style=""><span style="font-size: 16px;">SO_REUSEADDR</span></code><span style="font-size: 16px;">大家可能很熟悉，其用途就是可以重用处于</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态的socket。因为linux系统本身不允许同时绑定多个socket到相同的地址和端口那么对于一个处于</span><code style=""><span style="font-size: 16px;">TIME_WAIT</span></code><span style="font-size: 16px;">状态的socket来说，就无法再创建一个和这个socket具有相同地址和端口的socket了，如果启</span><code style=""><span style="font-size: 16px;">SO_REUSEADDR</span></code><span style="font-size: 16px;">可以避免这问题。</span><code style=""><span style="font-size: 16px;">SO_REUSEPORT</span></code><span style="font-size: 16px;">和</span><code style=""><span style="font-size: 16px;">SO_REUSEADDR</span></code><span style="font-size: 16px;">有些不同，</span><code style=""><span style="font-size: 16px;">SO_REUSEPORT</span></code><span style="font-size: 16px;">允许多个</span><code style=""><span style="font-size: 16px;">AF_INET</span></code><span style="font-size: 16px;">和</span><code style=""><span style="font-size: 16px;">AF_INET6</span></code><span style="font-size: 16px;">类型的socket绑定到同一个地址和端口，但是必须对每一个socket都要设置</span><code style=""><span style="font-size: 16px;">SO_REUSEPORT</span></code><span style="font-size: 16px;">选项，为了防止</span><code style=""><span style="font-size: 16px;">hijacking</span></code><span style="font-size: 16px;">，所有绑定相同地址的进程都必须是相同的EUID。这个选项可以用于TCP的socket，也可以用于UDP的socket。对于TCP的socket来说，这个选项可以允许accept实现多线程服务器的负载均衡，传统的负载均衡方式是主线程accept然后分发进行处理。对于UDP来说，使用这个选项可以为多进程(线程)提供更好的分发效果像比如传统的多进程从相同的socket接收数据包来说。</span></p><h2 style=""><span style="font-size: 16px;">How can I write a multi-homed server?</span></h2><p style=""><span style="font-size: 16px;">使用INADDR_ANY来给socket绑定地址，也可以使用ioctl的SIOCGIFCONF获取有效的网络结构，然后有选择的进行bind。</span></p><h2 style=""><span style="font-size: 16px;">When should I use UDP insead of TCP?</span></h2><p style=""><span style="font-size: 16px;">当你不需要确保包的顺序到达，不需要确保数据包必须达到对端的时候，那么UDP是一个很好的选择，如果你发现TCP太慢，你需要一个更快的方案你可以考虑使用UDP。</span></p><h2 style=""><span style="font-size: 16px;">What is the difference between “connected” and “unconnected” sockets?</span></h2><p style=""><span style="font-size: 16px;">如果UDP socket是未连接的那么就无法使用send或write等系统调用发送数据，只能使用sendto来发送数据，如果使用了connect那么socket就被绑定了目标地址，此时就可以使用send和write等系统调用来发送数据。</span></p><h2 style=""><span style="font-size: 16px;">of the socket? Does doing a connect() call affect the receive behaviour</span></h2><p style=""><span style="font-size: 16px;">当你给UDP使用了connect，那么使用read就只能读取，连接对端发送过来的数据，其他的发送者发过来的数据无法接受，但是最重要的是连接的UDP可以接收到ICMP的错误。</span></p><h2 style=""><span style="font-size: 16px;">How can I read ICMP errors from “connected” UDP sockets?</span></h2><p style=""><span style="font-size: 16px;">如果对端没有服务等待接收数据，那么对端会丢弃发送过来的数据包，并响应ICMP错误，但是这个ICMP错误是异步的，不是返回到对应的套接字上也就是说对于未连接的UDP socket来说，发生了错误是无法感知的，只有使用 connected的socket才会让异步产生的ICMP错误返回到对应的套接字上，第一次调用send的时候发生了如果发生了ICMP错误，那么下次再调用send就会返回错误了。</span></p><h2 style=""><span style="font-size: 16px;">Reference</span></h2><ul style="" class=" list-paddingleft-2"><li><p><span style="font-size: 16px;">Socket-Programing-FAQ</span></p></li><li><p><span style="font-size: 16px;">UNIX环境高级编程</span></p></li><li><p><span style="font-size: 16px;">TCP/IP详解(卷1)</span></p></li></ul><p style=""><br  /></p>
                </div>
                

                
  <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display: none;"></div>


                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_reward_area" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_reward_avatar">
                        <img src="" alt="" id="js_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" style="display: none;" id="js_reward_author">张义飞</div>
                                                            <p class="reward_button_wrp">
                      <span id="js_author_reward_qrcode" class="reward_pop_panel">
                        <img id="js_author_reward_qrcode_img" src="" alt="赞赏二维码">
                        <strong>微信扫一扫赞赏作者</strong>
                      </span>
                        <a class="reward_button" id='js_reward_link' href="##"><span id="js_reward_link_text">赞赏</span></a>
                    </p>
                    <div id="js_reward_inner" class="reward_area_inner" style="display:none;">
                        <p class="weui-loadmore weui-loadmore_line reward_user_tips" id="js_reward_total_parent">
                          <span class="weui-loadmore__tips">
                            <a href="javascript:;" id="js_reward_total"></a>&nbsp;<span id="js_reward_total_text">人赞赏</span>
                        </span>
                        </p>
                        
                        <div id="js_reward_list" class="reward_user_list"></div>
                        <div id="js_reward_pagination" class="simple_pagination" style="display: none;">
                          <button disabled class="btn_sp_prev js_reward_pagination_prev">上一页</button>
                          <span class="sp_page_num_area">
                            <a class="sp_page_current js_reward_pagination_curpage" href="javascript:;">1</a>&#47;<span class="sp_page_num js_reward_pagination_totalpage">3</span>
                          </span>
                          <button class="btn_sp_next js_reward_pagination_next">下一页</button>
                        </div>
                    </div>
                </div>
                                            </div>
		<div class="comment">
			<h3 style="margin:26px 0;font-weight:100;padding-bottom:4px;border-bottom:1px solid #ccc;">精选留言</h3>
		    暂无...
		</div>
	</div>
	<div class='dy_all'>
		<a href='http://i.ijrou.com' target='_blank'>
			我的博客
		</a>
	</div>
</body>